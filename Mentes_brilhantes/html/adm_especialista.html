<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mentes Brilhantes</title>
  <link rel="stylesheet" href="../css/adm_especialista.css">
  <link rel="icon" type="image/x-icon" href="../img/LogoMB.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<!-- ========== ONBOARDING MODAL ========== -->
<div id="onboardingModal" class="onboarding-modal">
    <div class="onboarding-content">
        <!-- Close Button (Hidden on first view) -->
        <button class="onboarding-close" id="closeOnboarding" style="display: none;">
            <i class="fas fa-times"></i>
        </button>

        <!-- Progress Bar -->
        <div class="onboarding-progress">
            <div class="onboarding-progress-bar" id="onboardingProgress"></div>
        </div>
        <div class="onboarding-step-indicator">
            <span id="currentStep">1</span> de 5
        </div>

        <!-- Step 1: Bem-vindo -->
        <div class="onboarding-step active" data-step="1">
            <div class="onboarding-icon">
                <i class="fas fa-hand-sparkles"></i>
            </div>
            <h2 class="onboarding-title">Bem-vindo ao Mentes Brilhantes!</h2>
            <p class="onboarding-description">
                Sua plataforma completa para conectar especialistas em autismo com fam√≠lias que precisam de suporte profissional. Vamos gui√°-lo em uma r√°pida introdu√ß√£o.
            </p>
            <div class="onboarding-illustration">
                <i class="fas fa-users" style="font-size: 4rem; color: var(--primary-blue); opacity: 0.3;"></i>
            </div>
        </div>

        <!-- Step 2: Como Funciona -->
        <div class="onboarding-step" data-step="2">
            <div class="onboarding-icon">
                <i class="fas fa-calendar-check"></i>
            </div>
            <h2 class="onboarding-title">Gerenciamento Simplificado</h2>
            <p class="onboarding-description">
                Gerencie suas consultas, pacientes, hor√°rios e recebimentos em um √∫nico lugar. Organize sua agenda de forma profissional e eficiente.
            </p>
            <ul class="onboarding-features">
                <li><i class="fas fa-check-circle"></i> Agenda online integrada</li>
                <li><i class="fas fa-check-circle"></i> Perfil de pacientes completo</li>
                <li><i class="fas fa-check-circle"></i> Notifica√ß√µes autom√°ticas</li>
                <li><i class="fas fa-check-circle"></i> Controle financeiro em tempo real</li>
            </ul>
        </div>

        <!-- Step 3: Conecte-se com Pacientes -->
        <div class="onboarding-step" data-step="3">
            <div class="onboarding-icon">
                <i class="fas fa-video"></i>
            </div>
            <h2 class="onboarding-title">Consultas Online e Presenciais</h2>
            <p class="onboarding-description">
                Ofere√ßa atendimento presencial ou online atrav√©s da nossa plataforma. Amplie seu alcance e atenda fam√≠lias de todo o Brasil.
            </p>
            <div class="onboarding-highlight">
                <i class="fas fa-star"></i>
                <p>Fam√≠lias podem encontrar voc√™ facilmente atrav√©s do nosso sistema de busca personalizado</p>
            </div>
        </div>

        <!-- Step 4: Recursos Educativos -->
        <div class="onboarding-step" data-step="4">
            <div class="onboarding-icon">
                <i class="fas fa-book-open"></i>
            </div>
            <h2 class="onboarding-title">Compartilhe Conte√∫dos</h2>
            <p class="onboarding-description">
                Publique materiais educativos, v√≠deos e recursos para seus pacientes. Fortale√ßa o v√≠nculo terap√™utico al√©m das consultas.
            </p>
            <ul class="onboarding-features">
                <li><i class="fas fa-check-circle"></i> Biblioteca de recursos personaliz√°vel</li>
                <li><i class="fas fa-check-circle"></i> Upload de v√≠deos e documentos</li>
                <li><i class="fas fa-check-circle"></i> Materiais organizados por categoria</li>
            </ul>
        </div>

        <!-- Step 5: Termos e Comiss√£o -->
        <div class="onboarding-step" data-step="5">
            <div class="onboarding-icon">
                <i class="fas fa-file-contract"></i>
            </div>
            <h2 class="onboarding-title">Termos de Uso e Comiss√£o</h2>
            <p class="onboarding-description">
                Antes de come√ßar, √© importante conhecer nossos termos de servi√ßo e modelo de neg√≥cio.
            </p>
            
            <!-- Commission Notice -->
            <div class="onboarding-commission-notice">
                <div class="commission-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="commission-info">
                    <h4>Taxa de Servi√ßo da Plataforma</h4>
                    <p>
                        Para manter a plataforma funcionando e continuar melhorando nossos servi√ßos, 
                        <strong>cobramos uma taxa de 10% sobre o valor de cada consulta realizada</strong> 
                        atrav√©s do Mentes Brilhantes.
                    </p>
                    <p class="commission-detail">
                        <i class="fas fa-calculator"></i> 
                        Exemplo: Consulta de R$ 200,00 ‚Üí Voc√™ recebe R$ 180,00
                    </p>
                </div>
            </div>

            <!-- Terms Acceptance -->
            <div class="onboarding-terms">
                <label class="onboarding-checkbox-container">
                    <input type="checkbox" id="acceptTerms" required>
                    <span class="checkmark"></span>
                    <span class="checkbox-label">
                        Li e concordo com os 
                        <a href="../html/termos-de-uso.html" target="_blank">Termos de Uso</a> 
                        e 
                        <a href="../html/politica-privacidade.html" target="_blank">Pol√≠tica de Privacidade</a>
                    </span>
                </label>
                
                <label class="onboarding-checkbox-container">
                    <input type="checkbox" id="acceptCommission" required>
                    <span class="checkmark"></span>
                    <span class="checkbox-label">
                        Estou ciente e concordo com a taxa de servi√ßo de 10% sobre cada consulta
                    </span>
                </label>
            </div>

            <p class="onboarding-terms-note">
                <i class="fas fa-shield-alt"></i>
                Seus dados est√£o protegidos e seguimos a LGPD rigorosamente
            </p>
        </div>

        <!-- Navigation Buttons -->
        <div class="onboarding-navigation">
            <button class="btn-onboarding btn-onboarding-secondary" id="prevStep" style="visibility: hidden;">
                <i class="fas fa-arrow-left"></i> Anterior
            </button>
            <button class="btn-onboarding btn-onboarding-primary" id="nextStep">
                Pr√≥ximo <i class="fas fa-arrow-right"></i>
            </button>
            <button class="btn-onboarding btn-onboarding-primary" id="finishOnboarding" style="display: none;">
                Come√ßar a Usar <i class="fas fa-check"></i>
            </button>
        </div>
    </div>
</div>

<!-- JavaScript do Onboarding -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('onboardingModal');
    const steps = document.querySelectorAll('.onboarding-step');
    const progressBar = document.getElementById('onboardingProgress');
    const currentStepText = document.getElementById('currentStep');
    const nextBtn = document.getElementById('nextStep');
    const prevBtn = document.getElementById('prevStep');
    const finishBtn = document.getElementById('finishOnboarding');
    const skipBtn = document.getElementById('skipOnboarding');
    const closeBtn = document.getElementById('closeOnboarding');
    const acceptTerms = document.getElementById('acceptTerms');
    const acceptCommission = document.getElementById('acceptCommission');
    
    let currentStep = 1;
    const totalSteps = 5;

    // Verifica se o usu√°rio j√° viu o onboarding
    const hasSeenOnboarding = localStorage.getItem('hasSeenOnboarding');
    
    if (!hasSeenOnboarding) {
        // Mostra o modal ap√≥s um pequeno delay
        setTimeout(() => {
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }, 500);
    }

    // Fun√ß√£o para atualizar o progresso
    function updateProgress() {
        const progress = (currentStep / totalSteps) * 100;
        progressBar.style.width = progress + '%';
        currentStepText.textContent = currentStep;
    }

    // Fun√ß√£o para mostrar step atual
    function showStep(stepNumber) {
        steps.forEach(step => {
            step.classList.remove('active');
        });
        
        const activeStep = document.querySelector(`[data-step="${stepNumber}"]`);
        if (activeStep) {
            activeStep.classList.add('active');
        }

        // Controla visibilidade dos bot√µes
        if (stepNumber === 1) {
            prevBtn.style.visibility = 'hidden';
        } else {
            prevBtn.style.visibility = 'visible';
        }

        if (stepNumber === totalSteps) {
            nextBtn.style.display = 'none';
            finishBtn.style.display = 'inline-flex';
            document.getElementById('skipOption').style.display = 'none';
        } else {
            nextBtn.style.display = 'inline-flex';
            finishBtn.style.display = 'none';
        }

        updateProgress();
    }

    // Pr√≥ximo step
    nextBtn.addEventListener('click', function() {
        if (currentStep < totalSteps) {
            currentStep++;
            showStep(currentStep);
        }
    });

    // Step anterior
    prevBtn.addEventListener('click', function() {
        if (currentStep > 1) {
            currentStep--;
            showStep(currentStep);
        }
    });

    // Finalizar onboarding
    finishBtn.addEventListener('click', function() {
        // Valida se os checkboxes foram marcados
        if (!acceptTerms.checked || !acceptCommission.checked) {
            // Cria toast de erro
            showToast('Por favor, aceite os termos e a taxa de servi√ßo para continuar', 'error');
            
            // Adiciona anima√ß√£o de shake nos checkboxes
            const termsContainer = document.querySelector('.onboarding-terms');
            termsContainer.style.animation = 'shake 0.5s';
            setTimeout(() => {
                termsContainer.style.animation = '';
            }, 500);
            return;
        }

        // Salva que o usu√°rio completou o onboarding
        localStorage.setItem('hasSeenOnboarding', 'true');
        localStorage.setItem('acceptedTermsDate', new Date().toISOString());
        
        closeOnboardingModal();
        showToast('Bem-vindo ao Mentes Brilhantes! üéâ', 'success');
    });

    // Pular onboarding
    skipBtn.addEventListener('click', function() {
        if (confirm('Tem certeza que deseja pular o tutorial? Voc√™ pode acess√°-lo novamente nas configura√ß√µes.')) {
            localStorage.setItem('hasSeenOnboarding', 'true');
            closeOnboardingModal();
        }
    });

    // Fechar modal
    closeBtn.addEventListener('click', function() {
        if (confirm('Deseja fechar o tutorial?')) {
            closeOnboardingModal();
        }
    });

    // Fun√ß√£o para fechar o modal
    function closeOnboardingModal() {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    // Fecha ao clicar fora do conte√∫do
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            closeBtn.click();
        }
    });

    // Fun√ß√£o para mostrar toast
    function showToast(message, type) {
        const toast = document.createElement('div');
        toast.className = `toast ${type} show`;
        toast.innerHTML = `
            <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
            <span>${message}</span>
        `;
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }

    // Adiciona anima√ß√£o de shake
    const style = document.createElement('style');
    style.textContent = `
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    `;
    document.head.appendChild(style);

    // Inicializa o primeiro step
    showStep(currentStep);

    // Op√ß√£o para reabrir o onboarding (adicione um bot√£o nas configura√ß√µes)
    window.restartOnboarding = function() {
        localStorage.removeItem('hasSeenOnboarding');
        currentStep = 1;
        showStep(currentStep);
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
    };
});
</script>

  <!-- Header -->
  <header class="header">
    <div class="header-container">
      <div class="logo-section">
        <img src="../img/LogoMB.png" alt="Mentes Brilhantes">
        <span>Mentes Brilhantes</span>
      </div>
      <div class="user-profile" onclick="toggleUserDropdown()">
        <div class="user-avatar">MF</div>
        <div class="user-info">
          <h4>Dra. Marina Fernandes</h4>
          <p>Especialista</p>
        </div>
        <i class="fas fa-chevron-down text-xs"></i>
        <div class="user-dropdown" id="userDropdown">
          <div class="user-dropdown-item" onclick="navigateTo('perfil')">
            <i class="fas fa-user"></i> Meu Perfil
          </div>
          <div class="user-dropdown-item" onclick="navigateTo('configuracoes')">
            <i class="fas fa-cog"></i> Configura√ß√µes
          </div>
          <div class="user-dropdown-item" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Sair
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Layout -->
  <div class="main-layout">
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="nav-section">
        <div class="nav-title">Principal</div>
        <a class="nav-item active" data-section="dashboard">
          <i class="fas fa-chart-line"></i><span>Dashboard</span>
        </a>
        <a class="nav-item" data-section="consultas">
          <i class="fas fa-calendar-alt"></i><span>Consultas</span>
        </a>
        <a class="nav-item" data-section="pacientes">
          <i class="fas fa-users"></i><span>Pacientes</span>
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-title">Gest√£o</div>
        <a class="nav-item" data-section="avaliacoes">
          <i class="fas fa-star"></i><span>Avalia√ß√µes</span>
        </a>
        <a class="nav-item" data-section="conteudos">
          <i class="fas fa-book"></i><span>Conte√∫dos</span>
        </a>
        <a class="nav-item" data-section="agenda">
          <i class="fas fa-clock"></i><span>Agenda</span>
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-title">Conta</div>
        <a class="nav-item" data-section="perfil">
          <i class="fas fa-user-cog"></i><span>Meu Perfil</span>
        </a>
        <a class="nav-item" data-section="configuracoes">
          <i class="fas fa-cog"></i><span>Configura√ß√µes</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard Section -->
      <div class="section active" id="dashboard">
        <div class="page-header">
          <h1 class="page-title">Bem-vinda, Dra. Marina</h1>
          <p class="page-subtitle">Aqui est√° um resumo das suas atividades recentes.</p>
        </div>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon primary">
              <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-value" id="totalConsultas">24</div>
            <div class="stat-label">Consultas do M√™s</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon success">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-value" id="totalPacientes">127</div>
            <div class="stat-label">Pacientes Ativos</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon warning">
              <i class="fas fa-dollar-sign"></i>
            </div>
            <div class="stat-value" id="receitaMensal">R$ 6.720</div>
            <div class="stat-label">Receita Mensal</div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Pr√≥ximas Consultas</span>
            <button class="btn btn-primary btn-sm" onclick="navigateTo('consultas')">
              Ver Todas
            </button>
          </div>
          <div class="card-content">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Paciente</th>
                    <th>Data/Hora</th>
                    <th>Tipo</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody id="dashboardConsultasTable">
                  <!-- Preenchido via JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Consultas Section -->
      <div class="section" id="consultas">
        <div class="page-header">
          <h1 class="page-title">Gerenciar Consultas</h1>
          <p class="page-subtitle">Visualize e gerencie todas as suas consultas.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Filtros</span>
          </div>
          <div class="card-content">
            <div class="filter-panel">
              <div class="filter-grid">
                <div class="form-group">
                  <label>Status</label>
                  <select id="filterStatus" onchange="applyFilters()">
                    <option value="">Todos</option>
                    <option value="Confirmada">Confirmada</option>
                    <option value="Pendente">Pendente</option>
                    <option value="Cancelada">Cancelada</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Tipo</label>
                  <select id="filterTipo" onchange="applyFilters()">
                    <option value="">Todos</option>
                    <option value="Presencial">Presencial</option>
                    <option value="Online">Online</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Data Inicial</label>
                  <input type="date" id="filterDataInicio" onchange="applyFilters()">
                </div>
                <div class="form-group">
                  <label>Data Final</label>
                  <input type="date" id="filterDataFim" onchange="applyFilters()">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Todas as Consultas</span>
            <div class="btn-group">
              <button class="btn btn-outline" onclick="exportConsultations()">
                <i class="fas fa-download"></i> Exportar
              </button>
              <button class="btn btn-primary" onclick="showModal('addAppointmentModal')">
                <i class="fas fa-plus"></i> Nova Consulta
              </button>
            </div>
          </div>
          <div class="card-content">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Paciente</th>
                    <th>Data/Hora</th>
                    <th>Tipo</th>
                    <th>Status</th>
                    <th>Valor</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="consultasTable">
                  <!-- Preenchido via JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Pacientes Section -->
      <div class="section" id="pacientes">
        <div class="page-header">
          <h1 class="page-title">Meus Pacientes</h1>
          <p class="page-subtitle">Gerencie informa√ß√µes dos seus pacientes.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Buscar Paciente</span>
          </div>
          <div class="card-content">
            <div class="form-group">
              <input type="text" id="searchPaciente" placeholder="Digite o nome do paciente..." onkeyup="searchPatients()">
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Lista de Pacientes</span>
            <div class="btn-group">
              <button class="btn btn-outline" onclick="exportPatients()">
                <i class="fas fa-download"></i> Exportar
              </button>
              <button class="btn btn-primary" onclick="showModal('addPatientModal')">
                <i class="fas fa-user-plus"></i> Novo Paciente
              </button>
            </div>
          </div>
          <div class="card-content">
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Idade</th>
                    <th>Respons√°vel</th>
                    <th>Telefone</th>
                    <th>√öltima Consulta</th>
                    <th>Status</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="pacientesTable">
                  <!-- Preenchido via JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Avalia√ß√µes Section -->
      <div class="section" id="avaliacoes">
        <div class="page-header">
          <h1 class="page-title">Avalia√ß√µes</h1>
          <p class="page-subtitle">Veja o feedback dos seus pacientes.</p>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon warning">
              <i class="fas fa-star"></i>
            </div>
            <div class="stat-value">4.8</div>
            <div class="stat-label">Avalia√ß√£o M√©dia</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon primary">
              <i class="fas fa-comments"></i>
            </div>
            <div class="stat-value" id="totalAvaliacoes">156</div>
            <div class="stat-label">Total de Avalia√ß√µes</div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">√öltimas Avalia√ß√µes</span>
          </div>
          <div class="card-content" id="avaliacoesContent">
            <!-- Preenchido via JavaScript -->
          </div>
        </div>
      </div>

      <!-- Conte√∫dos Section -->
      <div class="section" id="conteudos">
        <div class="page-header">
          <h1 class="page-title">Conte√∫dos Educativos</h1>
          <p class="page-subtitle">Gerencie materiais e recursos para seus pacientes.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Meus Conte√∫dos</span>
            <button class="btn btn-primary" onclick="showModal('addContentModal')">
              <i class="fas fa-plus"></i> Novo Conte√∫do
            </button>
          </div>
          <div class="card-content" id="conteudosGrid">
            <!-- Preenchido via JavaScript -->
          </div>
        </div>
      </div>

      <!-- Agenda Section -->
      <div class="section" id="agenda">
        <div class="page-header">
          <h1 class="page-title">Minha Agenda</h1>
          <p class="page-subtitle">Visualize e gerencie sua disponibilidade.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Configurar Hor√°rios</span>
          </div>
          <div class="card-content">
            <div class="form-group">
              <label>Dia da Semana</label>
              <select id="agendaDia">
                <option>Segunda-feira</option>
                <option>Ter√ßa-feira</option>
                <option>Quarta-feira</option>
                <option>Quinta-feira</option>
                <option>Sexta-feira</option>
                <option>S√°bado</option>
                <option>Domingo</option>
              </select>
            </div>
            <div class="filter-grid">
              <div class="form-group">
                <label>Hor√°rio In√≠cio</label>
                <input type="time" id="agendaInicio" value="09:00">
              </div>
              <div class="form-group">
                <label>Hor√°rio Fim</label>
                <input type="time" id="agendaFim" value="18:00">
              </div>
            </div>
            <button class="btn btn-primary" onclick="saveAgenda()">
              <i class="fas fa-save"></i> Salvar Hor√°rio
            </button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Hor√°rios Configurados</span>
          </div>
          <div class="card-content" id="agendaList">
            <!-- Preenchido via JavaScript -->
          </div>
        </div>
      </div>

      <!-- Perfil Section -->
      <div class="section" id="perfil">
        <div class="page-header">
          <h1 class="page-title">Meu Perfil</h1>
          <p class="page-subtitle">Gerencie suas informa√ß√µes pessoais e profissionais.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Informa√ß√µes Pessoais</span>
          </div>
          <div class="card-content">
            <div class="form-group">
              <label>Nome Completo</label>
              <input type="text" id="perfilNome" value="Marina Fernandes" disabled title="Este campo n√£o pode ser alterado">
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" id="perfilEmail" value="marina.fernandes@mentesbrilhantes.com.br" disabled title="Este campo n√£o pode ser alterado">
            </div>
            <div class="filter-grid">
              <div class="form-group">
                <label>Telefone</label>
                <input type="tel" id="perfilTelefone" value="(11) 98765-4321">
              </div>
              <div class="form-group">
                <label>CRP</label>
                <input type="text" id="perfilCRP" value="06/123456" disabled title="Este campo n√£o pode ser alterado">
              </div>
            </div>
            <div class="form-group">
              <label>Especialidade</label>
              <input type="text" id="perfilEspecialidade" value="Psicologia Infantil" disabled title="Este campo n√£o pode ser alterado">

            </div>
            <div class="form-group">
              <label>Biografia</label>
              <textarea id="perfilBio">Psic√≥loga especializada em desenvolvimento infantil com mais de 10 anos de experi√™ncia.</textarea>
            </div>
            <div class="btn-group">
              <button class="btn btn-secondary" onclick="cancelEdit()">
                <i class="fas fa-times"></i> Cancelar
              </button>
              <button class="btn btn-primary" onclick="saveProfile()">
                <i class="fas fa-save"></i> Salvar Altera√ß√µes
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Configura√ß√µes Section -->
      <div class="section" id="configuracoes">
        <div class="page-header">
          <h1 class="page-title">Configura√ß√µes</h1>
          <p class="page-subtitle">Personalize suas prefer√™ncias do sistema.</p>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Notifica√ß√µes</span>
          </div>
          <div class="card-content">
            <div class="form-group">
              <label style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" id="notifEmail" checked style="width: auto;">
                Receber notifica√ß√µes por email
              </label>
            </div>
            <div class="form-group">
              <label style="display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" id="notifSMS" style="width: auto;">
                Receber notifica√ß√µes por SMS
              </label>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <span class="card-title">Seguran√ßa</span>
          </div>
          <div class="card-content">
            <div class="form-group">
              <label>Senha Atual</label>
              <input type="password" id="senhaAtual">
            </div>
            <div class="form-group">
              <label>Nova Senha</label>
              <input type="password" id="senhaNova">
            </div>
            <div class="form-group">
              <label>Confirmar Nova Senha</label>
              <input type="password" id="senhaConfirm">
            </div>
            <button class="btn btn-primary" onclick="changePassword()">
              <i class="fas fa-lock"></i> Alterar Senha
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Modais -->
  <!-- Modal Nova Consulta -->
  <div class="modal" id="addAppointmentModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal('addAppointmentModal')">
        <i class="fas fa-times"></i>
      </button>
      <h3>Nova Consulta</h3>
      <div class="form-group">
        <label>Paciente</label>
        <select id="consultaPaciente">
          <option value="">Selecione um paciente</option>
        </select>
      </div>
      <div class="form-group">
        <label>Data e Hora</label>
        <input type="datetime-local" id="consultaDataHora">
      </div>
      <div class="form-group">
        <label>Tipo</label>
        <select id="consultaTipo">
          <option>Presencial</option>
          <option>Online</option>
        </select>
      </div>
      <div class="form-group">
        <label>Valor (R$)</label>
        <input type="number" id="consultaValor" value="280" step="10">
      </div>
      <div class="form-group">
        <label>Observa√ß√µes</label>
        <textarea id="consultaObs" placeholder="Observa√ß√µes adicionais..."></textarea>
      </div>
      <div class="btn-group">
        <button class="btn btn-secondary" onclick="closeModal('addAppointmentModal')">
          <i class="fas fa-times"></i> Cancelar
        </button>
        <button class="btn btn-primary" onclick="addAppointment()">
          <i class="fas fa-save"></i> Salvar
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Novo Paciente -->
  <div class="modal" id="addPatientModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal('addPatientModal')">
        <i class="fas fa-times"></i>
      </button>
      <h3>Novo Paciente</h3>
      <div class="form-group">
        <label>Nome Completo</label>
        <input type="text" id="pacienteNome" placeholder="Nome do paciente">
      </div>
      <div class="form-group">
        <label>Data de Nascimento</label>
        <input type="date" id="pacienteDataNasc">
      </div>
      <div class="form-group">
        <label>Nome do Respons√°vel</label>
        <input type="text" id="pacienteResponsavel" placeholder="Nome do respons√°vel">
      </div>
      <div class="form-group">
        <label>Telefone</label>
        <input type="tel" id="pacienteTelefone" placeholder="(11) 98765-4321">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="pacienteEmail" placeholder="email@exemplo.com">
      </div>
      <div class="form-group">
        <label>Observa√ß√µes</label>
        <textarea id="pacienteObs" placeholder="Informa√ß√µes relevantes sobre o paciente..."></textarea>
      </div>
      <div class="btn-group">
        <button class="btn btn-secondary" onclick="closeModal('addPatientModal')">
          <i class="fas fa-times"></i> Cancelar
        </button>
        <button class="btn btn-primary" onclick="addPatient()">
          <i class="fas fa-save"></i> Salvar
        </button>
      </div>
    </div>
  </div>

  <!-- Modal Visualizar Consulta -->
  <div class="modal" id="viewAppointmentModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal('viewAppointmentModal')">
        <i class="fas fa-times"></i>
      </button>
      <h3>Detalhes da Consulta</h3>
      <div id="appointmentDetails"></div>
    </div>
  </div>

  <!-- Modal Visualizar Paciente -->
  <div class="modal" id="viewPatientModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal('viewPatientModal')">
        <i class="fas fa-times"></i>
      </button>
      <h3>Detalhes do Paciente</h3>
      <div id="patientDetails"></div>
    </div>
  </div>

  <!-- Modal Novo Conte√∫do -->
  <div class="modal" id="addContentModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal('addContentModal')">
        <i class="fas fa-times"></i>
      </button>
      <h3>Novo Conte√∫do</h3>
      <div class="form-group">
        <label>T√≠tulo</label>
        <input type="text" id="contentTitulo" placeholder="T√≠tulo do conte√∫do">
      </div>
      <div class="form-group">
        <label>Tipo</label>
        <select id="contentTipo">
          <option>Artigo</option>
          <option>V√≠deo</option>
          <option>PDF</option>
          <option>Link</option>
        </select>
      </div>
      <div class="form-group">
        <label>Descri√ß√£o</label>
        <textarea id="contentDesc" placeholder="Descri√ß√£o do conte√∫do..."></textarea>
      </div>
      <div class="form-group">
        <label>URL/Link</label>
        <input type="url" id="contentUrl" placeholder="https://...">
      </div>
      <div class="btn-group">
        <button class="btn btn-secondary" onclick="closeModal('addContentModal')">
          <i class="fas fa-times"></i> Cancelar
        </button>
        <button class="btn btn-primary" onclick="addContent()">
          <i class="fas fa-save"></i> Salvar
        </button>
      </div>
    </div>
  </div>

  <script>
    // ============= DADOS SIMULADOS =============
    let consultas = [
      { id: 1, paciente: "Lucas Silva", data: "2025-10-10T14:00", tipo: "Presencial", status: "Confirmada", valor: 320 },
      { id: 2, paciente: "Ana Souza", data: "2025-10-15T09:30", tipo: "Online", status: "Pendente", valor: 280 },
      { id: 3, paciente: "Gabriel Lima", data: "2025-10-12T16:00", tipo: "Presencial", status: "Confirmada", valor: 320 },
      { id: 4, paciente: "Mariana Costa", data: "2025-10-18T10:00", tipo: "Online", status: "Pendente", valor: 280 },
    ];

    let pacientes = [
      { id: 1, nome: "Gabriel Lima", dataNasc: "2016-05-12", responsavel: "Larissa Lima", telefone: "(11) 97700-1234", email: "larissa@email.com", ultimaConsulta: "2025-09-07", status: "Ativo" },
      { id: 2, nome: "Lucas Silva", dataNasc: "2014-03-20", responsavel: "Carlos Silva", telefone: "(11) 98888-5555", email: "carlos@email.com", ultimaConsulta: "2025-09-15", status: "Ativo" },
      { id: 3, nome: "Ana Souza", dataNasc: "2015-07-08", responsavel: "Fernanda Souza", telefone: "(11) 99999-3333", email: "fernanda@email.com", ultimaConsulta: "2025-09-20", status: "Ativo" },
      { id: 4, nome: "Mariana Costa", dataNasc: "2013-11-15", responsavel: "Roberto Costa", telefone: "(11) 97777-8888", email: "roberto@email.com", ultimaConsulta: "2025-08-30", status: "Ativo" },
    ];

    let avaliacoes = [
      { paciente: "Lucas Silva", nota: 5, comentario: "Excelente profissional! Muito atenciosa e dedicada.", data: "2025-09-20" },
      { paciente: "Ana Souza", nota: 5, comentario: "Minha filha adorou as sess√µes. Recomendo!", data: "2025-09-18" },
      { paciente: "Gabriel Lima", nota: 4, comentario: "√ìtimo atendimento e ambiente acolhedor.", data: "2025-09-15" },
    ];

    let conteudos = [
      { id: 1, titulo: "Desenvolvimento Infantil", tipo: "Artigo", descricao: "Guia completo sobre marcos do desenvolvimento", url: "#" },
      { id: 2, titulo: "Lidando com Ansiedade", tipo: "V√≠deo", descricao: "T√©cnicas para ajudar crian√ßas ansiosas", url: "#" },
      { id: 3, titulo: "Rotina Saud√°vel", tipo: "PDF", descricao: "Dicas para estabelecer rotinas", url: "#" },
    ];

    let horarios = [
      { dia: "Segunda-feira", inicio: "09:00", fim: "18:00" },
      { dia: "Quarta-feira", inicio: "09:00", fim: "18:00" },
      { dia: "Sexta-feira", inicio: "09:00", fim: "16:00" },
    ];

    // ============= NAVEGA√á√ÉO =============
    function navigateTo(section) {
      // Remover classe active de todas as se√ß√µes e nav-items
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      
      // Adicionar classe active na se√ß√£o e nav-item correspondente
      document.getElementById(section).classList.add('active');
      const navItem = document.querySelector(`[data-section="${section}"]`);
      if (navItem) navItem.classList.add('active');
      
      // Carregar dados da se√ß√£o
      loadSectionData(section);
      
      // Fechar dropdown do usu√°rio se estiver aberto
      document.getElementById('userDropdown').classList.remove('active');
    }

    // Event listeners para navega√ß√£o
    document.querySelectorAll('.nav-item').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const section = item.getAttribute('data-section');
        navigateTo(section);
      });
    });

    // ============= MODAIS =============
    function showModal(id) {
      document.getElementById(id).classList.add('active');
      if (id === 'addAppointmentModal') {
        loadPatientOptions();
      }
    }

    function closeModal(id) {
      document.getElementById(id).classList.remove('active');
    }

    // Fechar modal clicando fora
    document.querySelectorAll('.modal').forEach(modal => {
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.classList.remove('active');
        }
      });
    });

    // ============= USER DROPDOWN =============
    function toggleUserDropdown() {
      const dropdown = document.getElementById('userDropdown');
      dropdown.classList.toggle('active');
    }

    // Fechar dropdown ao clicar fora
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.user-profile')) {
        document.getElementById('userDropdown').classList.remove('active');
      }
    });

    function logout() {
      if (confirm('Deseja realmente sair do sistema?')) {
        alert('Logout realizado com sucesso!');
        window.location.href = '../index.html';
      }
    }

    // ============= CARREGAR DADOS DAS SE√á√ïES =============
    function loadSectionData(section) {
      switch(section) {
        case 'dashboard':
          renderDashboardConsultas();
          updateStats();
          break;
        case 'consultas':
          renderConsultas();
          break;
        case 'pacientes':
          renderPacientes();
          break;
        case 'avaliacoes':
          renderAvaliacoes();
          break;
        case 'conteudos':
          renderConteudos();
          break;
        case 'agenda':
          renderAgenda();
          break;
      }
    }

    // ============= DASHBOARD =============
    function updateStats() {
      document.getElementById('totalConsultas').textContent = consultas.length;
      document.getElementById('totalPacientes').textContent = pacientes.length;
      const receita = consultas.reduce((sum, c) => sum + c.valor, 0);
      document.getElementById('receitaMensal').textContent = `R$ ${receita.toLocaleString('pt-BR')}`;
      document.getElementById('totalAvaliacoes').textContent = avaliacoes.length;
    }

    function renderDashboardConsultas() {
      const tbody = document.getElementById('dashboardConsultasTable');
      const proximasConsultas = consultas.slice(0, 3);
      
      tbody.innerHTML = proximasConsultas.map(c => `
        <tr>
          <td>${c.paciente}</td>
          <td>${formatDateTime(c.data)}</td>
          <td>${c.tipo}</td>
          <td><span class="badge ${getStatusBadge(c.status)}">${c.status}</span></td>
        </tr>
      `).join('');
    }

    // ============= CONSULTAS =============
    function renderConsultas() {
      const tbody = document.getElementById('consultasTable');
      const consultasFiltradas = applyFilters();
      
      if (consultasFiltradas.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="7">
              <div class="empty-state">
                <i class="fas fa-calendar-times"></i>
                <h3>Nenhuma consulta encontrada</h3>
                <p>Adicione uma nova consulta para come√ßar.</p>
              </div>
            </td>
          </tr>
        `;
        return;
      }
      
      tbody.innerHTML = consultasFiltradas.map(c => `
        <tr>
          <td>#${c.id}</td>
          <td>${c.paciente}</td>
          <td>${formatDateTime(c.data)}</td>
          <td>${c.tipo}</td>
          <td><span class="badge ${getStatusBadge(c.status)}">${c.status}</span></td>
          <td>R$ ${c.valor}</td>
          <td>
            <button class="action-btn view" title="Ver" onclick="viewAppointment(${c.id})">
              <i class="fas fa-eye"></i>
            </button>
            <button class="action-btn edit" title="Editar" onclick="editAppointment(${c.id})">
              <i class="fas fa-edit"></i>
            </button>
            <button class="action-btn delete" title="Excluir" onclick="deleteAppointment(${c.id})">
              <i class="fas fa-trash"></i>
            </button>
          </td>
        </tr>
      `).join('');
    }

    function applyFilters() {
      const status = document.getElementById('filterStatus')?.value || '';
      const tipo = document.getElementById('filterTipo')?.value || '';
      const dataInicio = document.getElementById('filterDataInicio')?.value || '';
      const dataFim = document.getElementById('filterDataFim')?.value || '';
      
      return consultas.filter(c => {
        if (status && c.status !== status) return false;
        if (tipo && c.tipo !== tipo) return false;
        if (dataInicio && new Date(c.data) < new Date(dataInicio)) return false;
        if (dataFim && new Date(c.data) > new Date(dataFim)) return false;
        return true;
      });
    }

    function loadPatientOptions() {
      const select = document.getElementById('consultaPaciente');
      select.innerHTML = '<option value="">Selecione um paciente</option>' +
        pacientes.map(p => `<option value="${p.id}">${p.nome}</option>`).join('');
    }

    function addAppointment() {
      const pacienteId = document.getElementById('consultaPaciente').value;
      const dataHora = document.getElementById('consultaDataHora').value;
      const tipo = document.getElementById('consultaTipo').value;
      const valor = parseFloat(document.getElementById('consultaValor').value);
      
      if (!pacienteId || !dataHora) {
        alert('Por favor, preencha todos os campos obrigat√≥rios!');
        return;
      }
      
      const paciente = pacientes.find(p => p.id == pacienteId);
      const novaConsulta = {
        id: consultas.length + 1,
        paciente: paciente.nome,
        data: dataHora,
        tipo: tipo,
        status: "Pendente",
        valor: valor
      };
      
      consultas.push(novaConsulta);
      closeModal('addAppointmentModal');
      alert('Consulta agendada com sucesso!');
      renderConsultas();
      updateStats();
    }

    function viewAppointment(id) {
      const consulta = consultas.find(c => c.id === id);
      const details = document.getElementById('appointmentDetails');
      
      details.innerHTML = `
        <div style="margin-bottom: 1rem;">
          <strong>ID:</strong> #${consulta.id}<br>
          <strong>Paciente:</strong> ${consulta.paciente}<br>
          <strong>Data/Hora:</strong> ${formatDateTime(consulta.data)}<br>
          <strong>Tipo:</strong> ${consulta.tipo}<br>
          <strong>Status:</strong> <span class="badge ${getStatusBadge(consulta.status)}">${consulta.status}</span><br>
          <strong>Valor:</strong> R$ ${consulta.valor}
        </div>
        <div class="btn-group">
          <button class="btn btn-primary" onclick="closeModal('viewAppointmentModal')">
            <i class="fas fa-check"></i> OK
          </button>
        </div>
      `;
      
      showModal('viewAppointmentModal');
    }

    function editAppointment(id) {
      alert(`Funcionalidade de edi√ß√£o da consulta #${id} ser√° implementada em breve!`);
    }

    function deleteAppointment(id) {
      if (confirm('Tem certeza que deseja excluir esta consulta?')) {
        consultas = consultas.filter(c => c.id !== id);
        renderConsultas();
        updateStats();
        alert('Consulta exclu√≠da com sucesso!');
      }
    }

    function exportConsultations() {
      const csv = 'ID,Paciente,Data/Hora,Tipo,Status,Valor\n' +
        consultas.map(c => `${c.id},${c.paciente},${c.data},${c.tipo},${c.status},${c.valor}`).join('\n');
      
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'consultas_export.csv';
      a.click();
      alert('Consultas exportadas com sucesso!');
    }

    // ============= PACIENTES =============
    function renderPacientes() {
      const tbody = document.getElementById('pacientesTable');
      
      if (pacientes.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="8">
              <div class="empty-state">
                <i class="fas fa-users"></i>
                <h3>Nenhum paciente cadastrado</h3>
                <p>Adicione um novo paciente para come√ßar.</p>
              </div>
            </td>
          </tr>
        `;
        return;
      }
      
      tbody.innerHTML = pacientes.map(p => {
        const idade = calcularIdade(p.dataNasc);
        return `
          <tr>
            <td>#${p.id}</td>
            <td>${p.nome}</td>
            <td>${idade} anos</td>
            <td>${p.responsavel}</td>
            <td>${p.telefone}</td>
            <td>${formatDate(p.ultimaConsulta)}</td>
            <td><span class="badge ${getStatusBadge(p.status)}">${p.status}</span></td>
            <td>
              <button class="action-btn view" title="Ver" onclick="viewPatient(${p.id})">
                <i class="fas fa-eye"></i>
              </button>
              <button class="action-btn edit" title="Editar" onclick="editPatient(${p.id})">
                <i class="fas fa-edit"></i>
              </button>
              <button class="action-btn delete" title="Excluir" onclick="deletePatient(${p.id})">
                <i class="fas fa-trash"></i>
              </button>
            </td>
          </tr>
        `;
      }).join('');
    }

    function searchPatients() {
      const search = document.getElementById('searchPaciente').value.toLowerCase();
      const tbody = document.getElementById('pacientesTable');
      
      const filtered = pacientes.filter(p => 
        p.nome.toLowerCase().includes(search) || 
        p.responsavel.toLowerCase().includes(search)
      );
      
      if (filtered.length === 0) {
        tbody.innerHTML = `
          <tr>
            <td colspan="8">
              <div class="empty-state">
                <i class="fas fa-search"></i>
                <h3>Nenhum paciente encontrado</h3>
                <p>Tente buscar por outro nome.</p>
              </div>
            </td>
          </tr>
        `;
        return;
      }
      
      tbody.innerHTML = filtered.map(p => {
        const idade = calcularIdade(p.dataNasc);
        return `
          <tr>
            <td>#${p.id}</td>
            <td>${p.nome}</td>
            <td>${idade} anos</td>
            <td>${p.responsavel}</td>
            <td>${p.telefone}</td>
            <td>${formatDate(p.ultimaConsulta)}</td>
            <td><span class="badge ${getStatusBadge(p.status)}">${p.status}</span></td>
            <td>
              <button class="action-btn view" title="Ver" onclick="viewPatient(${p.id})">
                <i class="fas fa-eye"></i>
              </button>
              <button class="action-btn edit" title="Editar" onclick="editPatient(${p.id})">
                <i class="fas fa-edit"></i>
              </button>
              <button class="action-btn delete" title="Excluir" onclick="deletePatient(${p.id})">
                <i class="fas fa-trash"></i>
              </button>
            </td>
          </tr>
        `;
      }).join('');
    }

    function addPatient() {
      const nome = document.getElementById('pacienteNome').value;
      const dataNasc = document.getElementById('pacienteDataNasc').value;
      const responsavel = document.getElementById('pacienteResponsavel').value;
      const telefone = document.getElementById('pacienteTelefone').value;
      const email = document.getElementById('pacienteEmail').value;
      
      if (!nome || !dataNasc || !responsavel || !telefone) {
        alert('Por favor, preencha todos os campos obrigat√≥rios!');
        return;
      }
      
      const novoPaciente = {
        id: pacientes.length + 1,
        nome: nome,
        dataNasc: dataNasc,
        responsavel: responsavel,
        telefone: telefone,
        email: email,
        ultimaConsulta: new Date().toISOString().split('T')[0],
        status: "Ativo"
      };
      
      pacientes.push(novoPaciente);
      closeModal('addPatientModal');
      alert('Paciente cadastrado com sucesso!');
      renderPacientes();
      updateStats();
      
      // Limpar campos
      document.getElementById('pacienteNome').value = '';
      document.getElementById('pacienteDataNasc').value = '';
      document.getElementById('pacienteResponsavel').value = '';
      document.getElementById('pacienteTelefone').value = '';
      document.getElementById('pacienteEmail').value = '';
      document.getElementById('pacienteObs').value = '';
    }

    function viewPatient(id) {
      const paciente = pacientes.find(p => p.id === id);
      const idade = calcularIdade(paciente.dataNasc);
      const details = document.getElementById('patientDetails');
      
      details.innerHTML = `
        <div style="margin-bottom: 1rem;">
          <strong>ID:</strong> #${paciente.id}<br>
          <strong>Nome:</strong> ${paciente.nome}<br>
          <strong>Idade:</strong> ${idade} anos<br>
          <strong>Data de Nascimento:</strong> ${formatDate(paciente.dataNasc)}<br>
          <strong>Respons√°vel:</strong> ${paciente.responsavel}<br>
          <strong>Telefone:</strong> ${paciente.telefone}<br>
          <strong>Email:</strong> ${paciente.email}<br>
          <strong>√öltima Consulta:</strong> ${formatDate(paciente.ultimaConsulta)}<br>
          <strong>Status:</strong> <span class="badge ${getStatusBadge(paciente.status)}">${paciente.status}</span>
        </div>
        <div class="btn-group">
          <button class="btn btn-primary" onclick="closeModal('viewPatientModal')">
            <i class="fas fa-check"></i> OK
          </button>
        </div>
      `;
      
      showModal('viewPatientModal');
    }

    function editPatient(id) {
      alert(`Funcionalidade de edi√ß√£o do paciente #${id} ser√° implementada em breve!`);
    }

    function deletePatient(id) {
      if (confirm('Tem certeza que deseja remover este paciente?')) {
        pacientes = pacientes.filter(p => p.id !== id);
        renderPacientes();
        updateStats();
        alert('Paciente removido com sucesso!');
      }
    }

    function exportPatients() {
      const csv = 'ID,Nome,Data Nascimento,Respons√°vel,Telefone,Email,√öltima Consulta,Status\n' +
        pacientes.map(p => `${p.id},${p.nome},${p.dataNasc},${p.responsavel},${p.telefone},${p.email},${p.ultimaConsulta},${p.status}`).join('\n');
      
      const blob = new Blob([csv], { type: 'text/csv' });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'pacientes_export.csv';
      a.click();
      alert('Pacientes exportados com sucesso!');
    }

    // ============= AVALIA√á√ïES =============
    function renderAvaliacoes() {
      const container = document.getElementById('avaliacoesContent');
      
      if (avaliacoes.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-star"></i>
            <h3>Nenhuma avalia√ß√£o ainda</h3>
            <p>As avalia√ß√µes dos pacientes aparecer√£o aqui.</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = avaliacoes.map(a => `
        <div style="padding: 1rem; border-bottom: 1px solid var(--border); margin-bottom: 1rem;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
            <strong>${a.paciente}</strong>
            <div style="color: var(--warning-color);">
              ${'‚òÖ'.repeat(a.nota)}${'‚òÜ'.repeat(5-a.nota)}
            </div>
          </div>
          <p style="color: var(--text-secondary); margin-bottom: 0.5rem;">${a.comentario}</p>
          <small style="color: var(--text-secondary);">${formatDate(a.data)}</small>
        </div>
      `).join('');
    }

    // ============= CONTE√öDOS =============
    function renderConteudos() {
      const container = document.getElementById('conteudosGrid');
      
      if (conteudos.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-book"></i>
            <h3>Nenhum conte√∫do cadastrado</h3>
            <p>Adicione materiais educativos para seus pacientes.</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = `
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem;">
          ${conteudos.map(c => `
            <div class="stat-card">
              <div class="stat-icon primary">
                <i class="fas fa-${getContentIcon(c.tipo)}"></i>
              </div>
              <h4 style="margin-bottom: 0.5rem;">${c.titulo}</h4>
              <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">${c.descricao}</p>
              <span class="badge primary">${c.tipo}</span>
              <div style="margin-top: 1rem;">
                <button class="action-btn view" onclick="window.open('${c.url}', '_blank')">
                  <i class="fas fa-external-link-alt"></i>
                </button>
                <button class="action-btn edit" onclick="editContent(${c.id})">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="action-btn delete" onclick="deleteContent(${c.id})">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    function addContent() {
      const titulo = document.getElementById('contentTitulo').value;
      const tipo = document.getElementById('contentTipo').value;
      const descricao = document.getElementById('contentDesc').value;
      const url = document.getElementById('contentUrl').value;
      
      if (!titulo || !descricao || !url) {
        alert('Por favor, preencha todos os campos!');
        return;
      }
      
      const novoConteudo = {
        id: conteudos.length + 1,
        titulo: titulo,
        tipo: tipo,
        descricao: descricao,
        url: url
      };
      
      conteudos.push(novoConteudo);
      closeModal('addContentModal');
      alert('Conte√∫do adicionado com sucesso!');
      renderConteudos();
      
      // Limpar campos
      document.getElementById('contentTitulo').value = '';
      document.getElementById('contentDesc').value = '';
      document.getElementById('contentUrl').value = '';
    }

    function editContent(id) {
      alert(`Funcionalidade de edi√ß√£o do conte√∫do #${id} ser√° implementada em breve!`);
    }

    function deleteContent(id) {
      if (confirm('Tem certeza que deseja excluir este conte√∫do?')) {
        conteudos = conteudos.filter(c => c.id !== id);
        renderConteudos();
        alert('Conte√∫do exclu√≠do com sucesso!');
      }
    }

    function getContentIcon(tipo) {
      const icons = {
        'Artigo': 'file-alt',
        'V√≠deo': 'video',
        'PDF': 'file-pdf',
        'Link': 'link'
      };
      return icons[tipo] || 'file';
    }

    // ============= AGENDA =============
    function renderAgenda() {
      const container = document.getElementById('agendaList');
      
      if (horarios.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-clock"></i>
            <h3>Nenhum hor√°rio configurado</h3>
            <p>Configure seus hor√°rios de atendimento.</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = horarios.map((h, index) => `
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--background); border-radius: 10px; margin-bottom: 0.5rem;">
          <div>
            <strong>${h.dia}</strong><br>
            <span style="color: var(--text-secondary);">${h.inicio} - ${h.fim}</span>
          </div>
          <button class="action-btn delete" onclick="deleteHorario(${index})">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      `).join('');
    }

    function saveAgenda() {
      const dia = document.getElementById('agendaDia').value;
      const inicio = document.getElementById('agendaInicio').value;
      const fim = document.getElementById('agendaFim').value;
      
      if (!inicio || !fim) {
        alert('Por favor, preencha os hor√°rios!');
        return;
      }
      
      // Verificar se j√° existe hor√°rio para este dia
      const exists = horarios.findIndex(h => h.dia === dia);
      if (exists !== -1) {
        if (confirm('J√° existe um hor√°rio configurado para este dia. Deseja substituir?')) {
          horarios[exists] = { dia, inicio, fim };
        } else {
          return;
        }
      } else {
        horarios.push({ dia, inicio, fim });
      }
      
      alert('Hor√°rio configurado com sucesso!');
      renderAgenda();
    }

    function deleteHorario(index) {
      if (confirm('Deseja remover este hor√°rio?')) {
        horarios.splice(index, 1);
        renderAgenda();
        alert('Hor√°rio removido com sucesso!');
      }
    }

    // ============= PERFIL E CONFIGURA√á√ïES =============
    function saveProfile() {
      const nome = document.getElementById('perfilNome').value;
      const email = document.getElementById('perfilEmail').value;
      
      if (!nome || !email) {
        alert('Por favor, preencha todos os campos obrigat√≥rios!');
        return;
      }
      
      alert('Perfil atualizado com sucesso!');
    }

    function cancelEdit() {
      if (confirm('Deseja descartar as altera√ß√µes?')) {
        // Restaurar valores originais
        document.getElementById('perfilNome').value = "Marina Fernandes";
        document.getElementById('perfilEmail').value = "marina.fernandes@mentesbrilhantes.com.br";
        alert('Altera√ß√µes descartadas.');
      }
    }

    function changePassword() {
      const atual = document.getElementById('senhaAtual').value;
      const nova = document.getElementById('senhaNova').value;
      const confirm = document.getElementById('senhaConfirm').value;
      
      if (!atual || !nova || !confirm) {
        alert('Por favor, preencha todos os campos!');
        return;
      }
      
      if (nova !== confirm) {
        alert('As senhas n√£o coincidem!');
        return;
      }
      
      if (nova.length < 6) {
        alert('A senha deve ter pelo menos 6 caracteres!');
        return;
      }
      
      alert('Senha alterada com sucesso!');
      document.getElementById('senhaAtual').value = '';
      document.getElementById('senhaNova').value = '';
      document.getElementById('senhaConfirm').value = '';
    }

    // ============= FUN√á√ïES AUXILIARES =============
    function formatDateTime(dateString) {
      const date = new Date(dateString);
      return date.toLocaleString('pt-BR', {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('pt-BR');
    }

    function getStatusBadge(status) {
      const badges = {
        'Confirmada': 'success',
        'Pendente': 'warning',
        'Cancelada': 'error',
        'Ativo': 'success',
        'Inativo': 'error'
      };
      return badges[status] || 'primary';
    }

    function calcularIdade(dataNasc) {
      const hoje = new Date();
      const nascimento = new Date(dataNasc);
      let idade = hoje.getFullYear() - nascimento.getFullYear();
      const mes = hoje.getMonth() - nascimento.getMonth();
      if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
        idade--;
      }
      return idade;
    }

    // ============= INICIALIZA√á√ÉO =============
    document.addEventListener('DOMContentLoaded', function() {
      loadSectionData('dashboard');
    });
  </script>
</body>
</html>
