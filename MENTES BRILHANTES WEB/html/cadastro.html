<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentes Brilhantes</title>
    <link rel="stylesheet" href="../css/cadastro.css">
    <link rel="icon" type="image/x-icon" href="../img/LogoMB.png">
    
</head>
<body>
    <div class="container">
        <div class="left-side">
            <div class="logo">
                <img src="../img/LogoMB.png" alt="Logo" />
            </div>
        </div>
        
        <div class="right-side">
            <div class="register-form">
                <h1 class="form-title">Criar sua Conta</h1>
                
                <form id="registerForm">
                    <!-- Foto de Perfil -->
                    <div class="profile-photo-section">
                        <div class="profile-photo-container" onclick="document.getElementById('profilePhoto').click()">
                            <img id="profilePhotoPreview" class="profile-photo" alt="Foto de perfil">
                            <div class="profile-photo-placeholder">üì∑</div>
                        </div>
                        <label class="profile-photo-label" for="profilePhoto">Adicionar foto</label>
                        <input type="file" id="profilePhoto" class="profile-photo-input" accept="image/*">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="fullName">Nome Completo:</label>
                        <input type="text" id="fullName" class="form-input" placeholder="Digite seu nome completo">
                        <div class="error-message" id="fullNameError">Nome completo deve ser preenchido</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">E-mail:</label>
                        <input type="email" id="email" class="form-input" placeholder="Digite seu e-mail">
                        <div class="error-message" id="emailError">E-mail v√°lido deve ser preenchido</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="cpf">CPF:</label>
                            <input type="text" id="cpf" class="form-input" placeholder="000.000.000-00" maxlength="14" required>
                            <div class="error-message" id="cpfError">CPF deve ter 11 d√≠gitos e ser v√°lido</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="phone">Celular:</label>
                            <input type="tel" id="phone" class="form-input" placeholder="(00) 00000-0000" maxlength="15" required>
                            <div class="error-message" id="phoneError">Celular deve ter 11 d√≠gitos (DDD + n√∫mero)</div>
                        </div>
                    </div>
                    
                    <!-- NOVA ORGANIZA√á√ÉO: CEP e RUA na mesma linha -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="cep">CEP:</label>
                            <input type="text" id="cep" class="form-input" placeholder="00000-000" maxlength="9">
                            <div class="error-message" id="cepError">CEP v√°lido √© obrigat√≥rio</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="street">Rua:</label>
                            <input type="text" id="street" class="form-input" placeholder="Nome da rua">
                            <div class="error-message" id="streetError">Rua deve ser preenchida</div>
                        </div>
                    </div>
                    
                    <!-- NOVA ORGANIZA√á√ÉO: BAIRRO e CIDADE trocados por N√öMERO e COMPLEMENTO -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="neighborhood">Bairro:</label>
                            <input type="text" id="neighborhood" class="form-input" placeholder="Bairro">
                            <div class="error-message" id="neighborhoodError">Bairro deve ser preenchido</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="city">Cidade:</label>
                            <input type="text" id="city" class="form-input" placeholder="Cidade">
                            <div class="error-message" id="cityError">Cidade deve ser preenchida</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="number">N√∫mero:</label>
                            <input type="text" id="number" class="form-input" placeholder="N¬∫">
                            <div class="error-message" id="numberError">N√∫mero deve ser preenchido</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="Complemento">*Complemento:</label>
                            <input type="text" id="Complemento" class="form-input" placeholder="Apt, Bloco, Casa, etc.">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="password">Senha:</label>
                            <input type="password" id="password" class="form-input" placeholder="Digite sua senha" required>
                            <div class="error-message" id="passwordError">Senha deve ter pelo menos 6 caracteres</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="confirmPassword">Confirmar Senha:</label>
                            <input type="password" id="confirmPassword" class="form-input" placeholder="Confirme sua senha" required>
                            <div class="error-message" id="confirmPasswordError">Senhas devem coincidir</div>
                        </div>
                    </div>
                    
                    <button type="submit" class="register-btn">Criar Conta</button>
                </form>
                
                <div class="form-links">
                    <a href="../index.html" class="form-link" onclick="continueWithoutLogin()">Continuar sem cadastrar</a>
                </div>
                
                <div class="social-login">
                    <div class="social-btn" onclick="registerWithApple()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.09997 22C7.78997 22.05 6.79997 20.68 5.95997 19.47C4.24997 17 2.93997 12.45 4.69997 9.39C5.56997 7.87 7.12997 6.91 8.81997 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5ZM13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="social-btn" onclick="registerWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                    </div>
                </div>
                
                <div class="terms">
                    Ao criar uma conta, voc√™ concorda com nossos <a href="#" onclick="showTerms()">Termos de Uso</a> e <a href="#" onclick="showPrivacy()">Pol√≠tica de Privacidade</a>
                </div>
                
                <div class="login-link">
                    <p>J√° tem uma conta? <a href="login.html" onclick="showLogin()">Fa√ßa login</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Sucesso -->
    <div class="success-modal" id="successModal">
        <div class="success-modal-content">
            <h2>‚úÖ Conta criada com sucesso!</h2>
            <p>Seu cadastro foi realizado com sucesso. Agora voc√™ pode fazer login e aproveitar todos os nossos servi√ßos.</p>
            <button onclick="closeSuccessModal()">OK</button>
        </div>
    </div>

    <!-- Modal de Informa√ß√£o sobre Cadastro de Respons√°vel - NOVO -->
    <div class="info-modal" id="infoModal">
        <div class="info-modal-content">
            <h2>Cadastro de Respons√°vel</h2>
            <p>Voc√™ est√° iniciando o cadastro como <span class="highlight">respons√°vel</span> pela pessoa autista.</p>
            <p>Ap√≥s concluir seu cadastro, voc√™ poder√° registrar os dados da pessoa autista sob sua responsabilidade.</p>
            <p>Este processo garante maior seguran√ßa e organiza√ß√£o dos dados.</p>
            <button class="info-modal-button" onclick="closeInfoModal()">Entendi, continuar</button>
        </div>
    </div>

    <!-- Modal de Redirecionamento para Cadastro do Neurodivergente - NOVO -->
    <div class="info-modal" id="redirectModal">
        <div class="info-modal-content">
            <h2>Cadastro Conclu√≠do! üéâ</h2>
            <p>Seu cadastro como <span class="highlight">respons√°vel</span> foi realizado com sucesso!</p>
            <p>Agora voc√™ ser√° direcionado para a tela de <span class="highlight">cadastro do neurodivergente</span>.</p>
            <p>L√° voc√™ poder√° registrar os dados da pessoa autista sob sua responsabilidade.</p>
            <button class="info-modal-button" onclick="closeRedirectModal()">Continuar para o cadastro</button>
        </div>
    </div>

    <!-- Modais de Termos e Privacidade -->
    <div class="modal-overlay" id="termsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Termos de Uso</h2>
                <button class="modal-close" onclick="closeModal('termsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Termos de Uso - Mentes Brilhantes</h3>
                <p><strong>√öltima atualiza√ß√£o:</strong> Agosto de 2025</p>
                
                <h4>1. Aceita√ß√£o dos Termos</h4>
                <p>Ao acessar e utilizar o site Mentes Brilhantes, voc√™ concorda em cumprir estes Termos de Uso. Se n√£o concordar com qualquer parte destes termos, n√£o utilize nossos servi√ßos.</p>

                <h4>2. Descri√ß√£o do Servi√ßo</h4>
                <p>O Mentes Brilhantes √© uma campanha de conscientiza√ß√£o e valoriza√ß√£o do autismo que oferece:</p>
                <ul>
                    <li>Informa√ß√µes educacionais sobre TEA (Transtorno do Espectro Autista)</li>
                    <li>Recursos de apoio para fam√≠lias e cuidadores</li>
                    <li>Ferramentas de comunica√ß√£o e suporte</li>
                    <li>Acesso √† IA Luna para orienta√ß√£o especializada</li>
                </ul>

                <h4>3. Uso Apropriado</h4>
                <p>Voc√™ se compromete a:</p>
                <ul>
                    <li>Usar o site apenas para fins legais e apropriados</li>
                    <li>N√£o interferir no funcionamento do site</li>
                    <li>N√£o tentar acessar √°reas restritas</li>
                    <li>Respeitar os direitos autorais e de propriedade intelectual</li>
                    <li>N√£o transmitir conte√∫do ofensivo ou prejudicial</li>
                </ul>

                <h4>4. Cadastro e Conta de Usu√°rio</h4>
                <ul>
                    <li>Voc√™ √© respons√°vel por manter a confidencialidade de sua senha</li>
                    <li>Deve fornecer informa√ß√µes precisas e atualizadas</li>
                    <li>Notificar imediatamente sobre uso n√£o autorizado de sua conta</li>
                </ul>

                <h4>5. Conte√∫do do Usu√°rio</h4>
                <p>Ao enviar conte√∫do para o site, voc√™:</p>
                <ul>
                    <li>Garante ser o propriet√°rio ou ter direitos necess√°rios</li>
                    <li>Concede ao Mentes Brilhantes licen√ßa para usar o conte√∫do</li>
                    <li>√â respons√°vel pela legalidade e adequa√ß√£o do conte√∫do</li>
                </ul>

                <h4>6. Propriedade Intelectual</h4>
                <p>Todo o conte√∫do do site, incluindo textos, imagens, logotipos e software, √© protegido por direitos autorais e outras leis de propriedade intelectual.</p>

                <h4>7. Limita√ß√£o de Responsabilidade</h4>
                <p>O Mentes Brilhantes n√£o se responsabiliza por:</p>
                <ul>
                    <li>Danos diretos ou indiretos decorrentes do uso do site</li>
                    <li>Interrup√ß√µes tempor√°rias do servi√ßo</li>
                    <li>Conte√∫do de terceiros ou links externos</li>
                </ul>

                <p><strong>Importante:</strong> Nossos servi√ßos s√£o informativos e n√£o substituem orienta√ß√£o m√©dica profissional.</p>

                <h4>8. Modifica√ß√µes</h4>
                <p>Reservamo-nos o direito de modificar estes termos a qualquer momento. Altera√ß√µes ser√£o comunicadas atrav√©s do site.</p>

                <h4>9. Suspens√£o e Encerramento</h4>
                <p>Podemos suspender ou encerrar o acesso de usu√°rios que violem estes termos, sem aviso pr√©vio.</p>

                <h4>10. Lei Aplic√°vel</h4>
                <p>Estes termos s√£o regidos pelas leis brasileiras. Disputas ser√£o resolvidas no foro da comarca de S√£o Paulo/SP.</p>

                <h4>11. Contato</h4>
                <p>Para d√∫vidas sobre estes termos:</p>
                <ul>
                    <li>Email: mentesbrilhantestcc@gmail.com</li>
                    <li>Telefone: (11) 97349-2001</li>
                    <li>Endere√ßo: S√£o Paulo, SP - Brasil</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button class="btn-modal-close" onclick="closeModal('termsModal')">Fechar</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="privacyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Pol√≠tica de Privacidade</h2>
                <button class="modal-close" onclick="closeModal('privacyModal')">&times;</button>
            </div>
            <div class="modal-body">
                <h3>Pol√≠tica de Privacidade - Mentes Brilhantes</h3>
                <p><strong>√öltima atualiza√ß√£o:</strong> Agosto de 2025</p>
                
                <h4>1. Informa√ß√µes que Coletamos</h4>
                <p>Coletamos apenas as informa√ß√µes necess√°rias para fornecer nossos servi√ßos de forma eficaz:</p>
                <ul>
                    <li><strong>Informa√ß√µes de Cadastro:</strong> Nome, email, telefone</li>
                    <li><strong>Informa√ß√µes de Uso:</strong> Como voc√™ navega e utiliza nosso site</li>
                    <li><strong>Informa√ß√µes T√©cnicas:</strong> Endere√ßo IP, navegador, dispositivo</li>
                </ul>

                <h4>2. Como Utilizamos suas Informa√ß√µes</h4>
                <ul>
                    <li>Fornecer e melhorar nossos servi√ßos</li>
                    <li>Comunicar sobre atualiza√ß√µes e novidades</li>
                    <li>Personalizar sua experi√™ncia</li>
                    <li>Garantir a seguran√ßa da plataforma</li>
                    <li>Cumprir obriga√ß√µes legais</li>
                </ul>

                <h4>3. Compartilhamento de Informa√ß√µes</h4>
                <p>N√£o vendemos, alugamos ou compartilhamos suas informa√ß√µes pessoais com terceiros, exceto quando:</p>
                <ul>
                    <li>Voc√™ nos autorizar expressamente</li>
                    <li>For necess√°rio para cumprir obriga√ß√µes legais</li>
                    <li>For necess√°rio para proteger direitos e seguran√ßa</li>
                </ul>

                <h4>4. Seguran√ßa dos Dados</h4>
                <p>Implementamos medidas t√©cnicas e organizacionais apropriadas para proteger suas informa√ß√µes contra acesso n√£o autorizado, altera√ß√£o, divulga√ß√£o ou destrui√ß√£o.</p>

                <h4>5. Seus Direitos (LGPD)</h4>
                <p>Conforme a Lei Geral de Prote√ß√£o de Dados, voc√™ tem direito a:</p>
                <ul>
                    <li>Confirmar a exist√™ncia de tratamento de dados</li>
                    <li>Acessar seus dados pessoais</li>
                    <li>Corrigir dados incompletos ou incorretos</li>
                    <li>Solicitar a exclus√£o de dados desnecess√°rios</li>
                    <li>Revogar o consentimento</li>
                </ul>

                <h4>6. Cookies</h4>
                <p>Utilizamos cookies para melhorar sua experi√™ncia. Voc√™ pode configurar seu navegador para recusar cookies, mas isso pode afetar algumas funcionalidades.</p>

                <h4>7. Contato</h4>
                <p>Para exercer seus direitos ou esclarecer d√∫vidas sobre esta pol√≠tica:</p>
                <ul>
                    <li>Email: mentesbrilhantestcc@gmail.com</li>
                    <li>Telefone: (11) 97349-2001</li>
                </ul>

                <h4>8. Altera√ß√µes nesta Pol√≠tica</h4>
                <p>Podemos atualizar esta pol√≠tica periodicamente. Notificaremos sobre mudan√ßas significativas atrav√©s do email cadastrado.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-modal-close" onclick="closeModal('privacyModal')">Fechar</button>
            </div>
        </div>
    </div>

    <style>
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
            box-sizing: border-box;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 90%;
            max-height: 85vh;
            overflow: hidden;
            transform: scale(0.7) translateY(50px);
            transition: all 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            background: linear-gradient(135deg, #4A90E2, #7BB3F0);
            color: white;
            padding: 25px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 15px 15px 0 0;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
            max-height: 60vh;
            overflow-y: auto;
            line-height: 1.6;
            color: #2C3E50;
        }

        .modal-body h3 {
            color: #4A90E2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #E8F4FD;
            padding-bottom: 8px;
        }

        .modal-body h4 {
            color: #2C3E50;
            font-size: 1.1rem;
            margin-top: 25px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .modal-body p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .modal-body ul {
            margin-bottom: 20px;
            padding-left: 20px;
        }

        .modal-body li {
            margin-bottom: 8px;
        }

        .modal-body strong {
            color: #4A90E2;
            font-weight: 600;
        }

        .modal-body small {
            color: #5A6C7D;
            font-style: italic;
        }

        .modal-footer {
            background: #F8FBFF;
            padding: 20px 30px;
            border-radius: 0 0 15px 15px;
            display: flex;
            justify-content: flex-end;
        }

        .btn-modal-close {
            background: linear-gradient(135deg, #4A90E2, #7BB3F0);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-modal-close:hover {
            background: linear-gradient(135deg, #3A80D2, #6BA3E0);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.3);
        }

        /* Scrollbar personalizada para o modal */
        .modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: #F1F5F9;
            border-radius: 4px;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #4A90E2, #7BB3F0);
            border-radius: 4px;
        }

        .modal-body::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #3A80D2, #6BA3E0);
        }

        /* Responsividade dos modais */
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                max-height: 90vh;
                margin: 20px;
            }

            .modal-header {
                padding: 20px;
            }

            .modal-header h2 {
                font-size: 1.5rem;
            }

            .modal-body {
                padding: 20px;
                max-height: 65vh;
            }

            .modal-footer {
                padding: 15px 20px;
            }
        }
    </style>

    <script>
        // Fun√ß√£o para mostrar o modal informativo - NOVO
        function showInfoModal() {
            document.getElementById('infoModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar o modal informativo - NOVO
        function closeInfoModal() {
            document.getElementById('infoModal').style.display = 'none';
        }

        // Mostrar modal informativo quando a p√°gina carregar - NOVO
        window.addEventListener('load', function() {
            showInfoModal();
        });

        // Fun√ß√µes para mostrar modais de Termos e Privacidade
        function showTerms() {
            const modal = document.getElementById('termsModal');
            modal.classList.add('show');
        }

        function showPrivacy() {
            const modal = document.getElementById('privacyModal');
            modal.classList.add('show');
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('show');
        }

        // Fechar modal clicando fora dele
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-overlay')) {
                e.target.classList.remove('show');
            }
        });

        // Fun√ß√£o para preview da foto de perfil
        document.getElementById('profilePhoto').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('profilePhotoPreview');
                    const placeholder = document.querySelector('.profile-photo-placeholder');
                    
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    placeholder.style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        });

        // M√°scaras para os campos
        function applyCPFMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d{1,2})/, '$1-$2')
                .replace(/(-\d{2})\d+?$/, '$1');
        }

        function applyPhoneMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{2})(\d)/, '($1) $2')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{4})\d+?$/, '$1');
        }

        function applyCEPMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{3})\d+?$/, '$1');
        }

        // Fun√ß√£o para validar CPF
        function isValidCPF(cpf) {
            cpf = cpf.replace(/\D/g, '');
            if (cpf.length !== 11) return false;
            
            // Verifica sequ√™ncias iguais (CPFs inv√°lidos conhecidos)
            if (/^(\d)\1{10}$/.test(cpf)) return false;
            
            // Valida√ß√£o dos d√≠gitos verificadores
            let sum = 0;
            for (let i = 0; i < 9; i++) {
                sum += parseInt(cpf[i]) * (10 - i);
            }
            let digit1 = (sum * 10) % 11;
            if (digit1 === 10) digit1 = 0;
            
            sum = 0;
            for (let i = 0; i < 10; i++) {
                sum += parseInt(cpf[i]) * (11 - i);
            }
            let digit2 = (sum * 10) % 11;
            if (digit2 === 10) digit2 = 0;
            
            return digit1 === parseInt(cpf[9]) && digit2 === parseInt(cpf[10]);
        }

        // Fun√ß√£o para validar email
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Fun√ß√£o para mostrar erro
        function showError(fieldId, errorId, message) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            field.classList.add('error');
            error.textContent = message;
            error.style.display = 'block';
        }

        // Fun√ß√£o para limpar erro
        function clearError(fieldId, errorId) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            field.classList.remove('error');
            error.style.display = 'none';
        }

        // Aplicar m√°scaras aos campos
        document.getElementById('cpf').addEventListener('input', function(e) {
            e.target.value = applyCPFMask(e.target.value);
        });

        document.getElementById('phone').addEventListener('input', function(e) {
            e.target.value = applyPhoneMask(e.target.value);
        });

        document.getElementById('cep').addEventListener('input', function(e) {
            e.target.value = applyCEPMask(e.target.value);
        });

        // Fun√ß√£o para buscar CEP
        document.getElementById('cep').addEventListener('blur', function(e) {
            const cep = e.target.value.replace(/\D/g, '');
            
            if (cep.length === 8) {
                // Limpar campos antes de buscar
                document.getElementById('street').value = '';
                document.getElementById('neighborhood').value = '';
                document.getElementById('city').value = '';
                
                // Buscar informa√ß√µes do CEP
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(response => response.json())
                    .then(data => {
                        if (!data.erro) {
                            document.getElementById('street').value = data.logradouro || '';
                            document.getElementById('neighborhood').value = data.bairro || '';
                            document.getElementById('city').value = data.localidade || '';
                            
                            // Limpar erros se preencheu os campos
                            if (data.logradouro) clearError('street', 'streetError');
                            if (data.bairro) clearError('neighborhood', 'neighborhoodError');
                            if (data.localidade) clearError('city', 'cityError');
                            clearError('cep', 'cepError');
                        } else {
                            showError('cep', 'cepError', 'CEP n√£o encontrado');
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao buscar CEP:', error);
                        showError('cep', 'cepError', 'Erro ao buscar CEP. Verifique sua conex√£o');
                    });
            }
        });

        // Valida√ß√£o completa do formul√°rio
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            let isValid = true;
            
            // Limpar todos os erros primeiro
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(error => error.style.display = 'none');
            
            const inputElements = document.querySelectorAll('.form-input');
            inputElements.forEach(input => input.classList.remove('error'));
            
            // Validar nome completo - OBRIGAT√ìRIO
            const fullName = document.getElementById('fullName').value.trim();
            if (!fullName || fullName.length < 2) {
                showError('fullName', 'fullNameError', 'Nome completo deve ser preenchido');
                isValid = false;
            }
            
            // Validar email - OBRIGAT√ìRIO
            const email = document.getElementById('email').value.trim();
            if (!email || !isValidEmail(email)) {
                showError('email', 'emailError', 'E-mail v√°lido deve ser preenchido');
                isValid = false;
            }
            
            // Validar CPF (deve ter exatamente 11 d√≠gitos)
            const cpf = document.getElementById('cpf').value;
            const cpfNumbers = cpf.replace(/\D/g, '');
            if (!cpf || cpfNumbers.length !== 11 || !isValidCPF(cpf)) {
                showError('cpf', 'cpfError', 'CPF deve ter 11 d√≠gitos e ser v√°lido');
                isValid = false;
            }
            
            // Validar telefone (deve ter 11 d√≠gitos: DDD + 9 d√≠gitos)
            const phone = document.getElementById('phone').value.replace(/\D/g, '');
            if (!phone || phone.length !== 11) {
                showError('phone', 'phoneError', 'Celular deve ter 11 d√≠gitos (DDD + n√∫mero)');
                isValid = false;
            }
            
            // Validar CEP - OBRIGAT√ìRIO
            const cep = document.getElementById('cep').value.replace(/\D/g, '');
            if (!cep || cep.length !== 8) {
                showError('cep', 'cepError', 'CEP v√°lido deve ser preenchido');
                isValid = false;
            }
            
            // Validar campos de endere√ßo - Obrigat√≥rios quando CEP for preenchido
            const street = document.getElementById('street').value.trim();
            if (!street) {
                showError('street', 'streetError', 'Rua deve ser preenchida');
                isValid = false;
            }
            
            const neighborhood = document.getElementById('neighborhood').value.trim();
            if (!neighborhood) {
                showError('neighborhood', 'neighborhoodError', 'Bairro deve ser preenchido');
                isValid = false;
            }
            
            const city = document.getElementById('city').value.trim();
            if (!city) {
                showError('city', 'cityError', 'Cidade deve ser preenchida');
                isValid = false;
            }
            
            const number = document.getElementById('number').value.trim();
            if (!number) {
                showError('number', 'numberError', 'N√∫mero deve ser preenchido');
                isValid = false;
            }
            
            // Validar senha
            const password = document.getElementById('password').value;
            if (!password || password.length < 6) {
                showError('password', 'passwordError', 'Senha deve ter pelo menos 6 caracteres');
                isValid = false;
            }
            
            // Validar confirma√ß√£o de senha
            const confirmPassword = document.getElementById('confirmPassword').value;
            if (!confirmPassword || password !== confirmPassword) {
                showError('confirmPassword', 'confirmPasswordError', 'Senhas devem coincidir');
                isValid = false;
            }
            
            // Se todos os campos est√£o v√°lidos, mostrar sucesso
            if (isValid) {
                showSuccessModal();
            } else {
                // Scroll para o primeiro erro
                const firstError = document.querySelector('.form-input.error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstError.focus();
                }
            }
        });

        // Fun√ß√£o para mostrar modal de sucesso
        function showSuccessModal() {
            document.getElementById('successModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar modal de sucesso
        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
            // Mostrar modal de redirecionamento para cadastro do neurodivergente
            setTimeout(() => {
                showRedirectModal();
            }, 500);
        }

        // Fun√ß√£o para mostrar modal de redirecionamento - NOVO
        function showRedirectModal() {
            document.getElementById('redirectModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar modal de redirecionamento - NOVO
        function closeRedirectModal() {
            document.getElementById('redirectModal').style.display = 'none';
            // Redirecionar para a p√°gina de cadastro do neurodivergente
            window.location.href = "cadastroneuro.html";
        }

        function showForgotPassword() {
            // Implementar funcionalidade
        }

        function continueWithoutLogin() {
            // Implementar funcionalidade
        }

        function registerWithApple() {
            // Implementar funcionalidade
        }

        function registerWithGoogle() {
            // Implementar funcionalidade
        }

        function showLogin() {
            // Implementar funcionalidade
        }
    </script>
</body>
</html>