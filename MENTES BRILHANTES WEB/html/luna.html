<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/luna.css">
    <title>Luna - IA Mentes Brilhantes</title>

</head>
<body>
    <!-- Blocked Overlay -->
    <div class="blocked-overlay" id="blockedOverlay"></div>

    <!-- Sidebar Toggle for Mobile -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">‚ò∞</button>
    
    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" onclick="closeSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
                <div class="header-content">
                    <div class="header-avatar">
                        <img src="../img/LogoMB.png" alt="Luna">
                    </div>
                    <div class="header-text">
                        <h2>Bem vindo √† <br> sua assistente virtual</h2>
                    </div>
                </div>
                <p class="welcome-phrase">"Cada jornada √© √∫nica, cada conquista √© especial. Juntos, constru√≠mos pontes para o desenvolvimento."</p>
            </div>

        <button class="new-chat-btn" onclick="createNewChat()">
            ‚ú® Nova Conversa
        </button>

        <div class="chat-history" id="chatHistory">
            <div class="chat-tab active" data-chat-id="1">
                <span class="chat-tab-icon">üí¨</span>
                <span>Chat 1</span>
            </div>
        </div>

        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar-sidebar">M</div>
                <div class="user-name">Usu√°rio</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="main-header">
            <div class="luna-info">
                <div class="luna-avatar">
                    <img src="../img/luna.png" alt="Avatar">
                </div>
                <div class="luna-text">
                    <h1>Luna</h1>
                    <p>Assistente especializada em TEA</p>
                </div>
            </div>
            <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span class="status-text" id="statusText">Online</span>
            </div>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <div class="welcome-message">
                    <h2>Ol√°! Eu sou a Luna </h2>
                    <p>Sua assistente virtual do Mentes Brilhantes especializada em apoio a pessoas com Transtorno do Espectro Autista (TEA), familiares e cuidadores. Ofere√ßo suporte personalizado, informa√ß√µes fundamentadas e aux√≠lio na organiza√ß√£o de rotinas estruturadas.</p>
                    
                    <div class="quick-actions">
                        <button class="quick-action-btn" onclick="sendQuickMessage('Como posso criar uma rotina visual para meu filho?')">
                            üìÖ Rotinas Visuais Estruturadas
                        </button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('Preciso de estrat√©gias para comunica√ß√£o com TEA')">
                            üí¨ Estrat√©gias de Comunica√ß√£o
                        </button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('Como lidar com crises sensoriais?')">
                            üßò‚Äç‚ôÄÔ∏è Regula√ß√£o Sensorial
                        </button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('Atividades cognitivas para TEA')">
                            üéØ Atividades Cognitivas
                        </button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('Mentes Brilhantes')">
                            üåü Mentes Brilhantes
                        </button>
                        <button class="quick-action-btn" onclick="sendQuickMessage('Aplicativo')">
                            üì± Aplicativo
                        </button>
                    </div>
                </div>
            </div>

            <!-- Input Container -->
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea
                        class="message-input"
                        id="messageInput"
                        placeholder="Digite sua mensagem... Como posso ajudar voc√™ hoje?"
                        rows="1"
                    ></textarea>
                    <button class="send-button" id="sendButton" type="button">
                        ‚û§
                    </button>
                    <div class="footer-text">
                        A Luna pode cometer erros. Considere verificar informa√ß√µes importantes.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Vari√°veis globais
        let chats = {
            1: {
                id: 1,
                name: 'Chat 1',
                messages: [],
                isActive: true,
                isBlocked: false
            }
        };

        let currentChatId = 1;
        let chatCounter = 1;
        let isProcessing = false;
        let messageInput, sendButton;
        let globalBlockTimeout = null;

        // Sistema anti-palavr√£o
        // Sistema anti-palavr√£o
        const offensiveWords = [
            // Palavr√µes b√°sicos e comuns
            'porra', 'merda', 'caralho', 'buceta', 'puta', 'putinha', 'puto', 'putona',
            'viado', 'viadinho', 'bicha', 'bichinha', 'filho da puta', 'fdp', 'f d p',
            'desgra√ßa', 'ot√°rio', 'otaria', 'idiota', 'burro', 'burra', 'est√∫pido', 'estupida',
            'imbecil', 'retardado', 'retardada', 'cretino', 'cretina', 'babaca', 'bosta',
            'bostinha', 'lixo', 'in√∫til', 'vagabundo', 'vagabunda', 'safado', 'safada',
            'corno', 'corninho', 'corna', 'arrombado', 'arrombada', 'cu', 'cuzinho', 'rabo', 'rabinho',
            'bunda', 'bundinha', 'xoxota', 'xavasca', 'piroca', 'pau', 'paura', 'cacete', 
            'pica', 'pic√£o', 'rola', 'rol√£o', 'caralhinho',

            // Ofensas envolvendo fam√≠lia
            'sua m√£e', 'tua m√£e', 'm√£e dele', 'm√£e dela', 'teu pai', 'pai dele', 'pai dela',
            'av√≥ puta', 'av√¥ safado', 'irm√£ vadia', 'irm√£o corno',

            // Frases ofensivas
            'vai tomar no cu', 'vai tnc', 'vtnc', 'kys', 'se mata', 'morra', 'tomar no cu',
            'vai se foder', 'vsf', 'vai se ferrar', 'vai pra merda', 'pnc', 'pau no cu',
            'vai pra casa do caralho', 'te arromba', 'vai se lascar', 'vai se danar',
            'vai pro inferno', 'vai lamber sab√£o', 'filho da √©gua',

            // Ofensas e adjetivos pejorativos
            'miser√°vel', 'peste', 'praga', 'capeta', 'diabo', 'satan√°s', 'satanas', 'dem√¥nio',
            'demonio', 'capiroto', 'maldito', 'maldita', 'escroto', 'escrota', 'nojento', 'nojenta',
            'asqueroso', 'asquerosa', 'repugnante', 'imundo', 'imunda', 'canalha', 'cr√°pula',
            'patife', 'sarnento', 'sarnenta', 'corrupto', 'corrupta', 'lar√°pio', 'lar√°pia',

            // Sexuais e obscenos
            'tes√£o', 'tesuda', 'tesudo', 'punheta', 'punheteiro', 'punheteira', 'gozar', 'gozo',
            'boquete', 'chupeta', 'chupador', 'chupadora', 'chupa', 'anal', 'vagina', 'penis',
            'clit√≥ris', 'clitoris', 'mamada', 'mamador', 'lamber', 'lambedor', 'putaria',
            'orgia', 'lux√∫ria', 'suruba', 'gang bang',

            // Preconceito e discrimina√ß√£o
            'traveco', 'travec√£o', 'travecona', 'maricona', 'boiola', 'florzinha', 'paneleiro',
            'baitola', 'fresco', 'fresca', 'efeminado', 'efeminada', 'bichona', 'gayzinho',
            'lesbiquinha', 'mulherzinha', 'viado de merda', 'bixa',

            // Insultos regionais e criativos
            'z√© ruela', 'z√© man√©', 'z√© ningu√©m', 'man√©', 'lesado', 'mosca morta', 'p√© rapado',
            'pangar√©', 'mequetrefe', 'fajuto', 'paspalho', 'trouxa', 'anta', 'jumento',
            'mula', 'lerdo', 'panaca', 'pilantra', 'salafr√°rio', 'vigarista', 'golpista', 'charlat√£o',
            'cafajeste', 'mazela', 'sanguessuga', 'parasita', 'abestado', 'pobre diabo',
            'cabe√ßa de bagre', 'orelhudo', 'orelhuda', 'marmita de bandido', 'coi√≥', 'boc√≥',

            // Portugu√™s de Portugal
            'caralho de asa', 'puta que pariu', 'filho da m√£e', 'filha da m√£e', 'ot√°rio de merda',
            'merdas', 'cabr√£o', 'cona', 'palha√ßo', 'palha√ßa', 'porcalh√£o', 'porcalhona',

            // "Vadia" e varia√ß√µes
            'vadia', 'vadiagem', 'vadio', 'vadinho', 'vadiona', 'v@dia', 'v4dia',
            'v4d1a', 'vad1a', 'v@d14', 'vad1ona', 'v@d10na',

            // Leetspeak e substitui√ß√µes
            'p0rra', 'p0rr@', 'm3rd4', 'c4r4lh0', 'bvcet4', 'pvt@', 'v14d0', 'v14dinh0',
            'f1lh0 d4 pvta', 'f1lh0 d4 put4', 'd3sgra√ß4', '0t4ri0', 'bvrro', 'arromb4d0',
            'k1ll y0urs3lf', 's3 m4t4', 'vai t0m4r n0 c4', 'p1c4', 'r0l4', 'p1r0c4', 'x0x0t4',
            'b0qu3t3'
        ];

        const blockPhrases = [
            'voc√™ √©', 'voce e', 'tu √©', 'tu e', 'vc √©', 'vc e',
            'luna √©', 'luna e', 'voc√™ ta', 'voce ta', 'seu lixo', 'sua bosta'
        ];

        // Fun√ß√£o para detectar palavr√µes e ofensas
        function detectViolation(message) {
            const lowerMessage = message.toLowerCase()
                .replace(/[^a-z√°√†√¢√£√©√®√™√≠√Ø√≥√¥√µ√∂√∫√ß√±0-9\s]/g, ' ') // Remove s√≠mbolos especiais
                .replace(/\s+/g, ' ') // Normaliza espa√ßos
                .trim();
            
            // Verifica palavr√µes diretos
            for (const word of offensiveWords) {
                // Verifica se a palavra est√° presente (com limites de palavra para evitar falsos positivos)
                const regex = new RegExp('\\b' + word.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'i');
                if (regex.test(lowerMessage) || lowerMessage.includes(word)) {
                    console.log('Palavra ofensiva detectada:', word);
                    return true;
                }
            }
            
            // Verifica frases ofensivas direcionadas √† IA
            for (const phrase of blockPhrases) {
                if (lowerMessage.includes(phrase)) {
                    // Verifica se h√° palavr√£o ap√≥s a frase
                    const phraseIndex = lowerMessage.indexOf(phrase);
                    const afterPhrase = lowerMessage.substring(phraseIndex + phrase.length);
                    for (const word of offensiveWords) {
                        if (afterPhrase.includes(word)) {
                            console.log('Frase ofensiva direcionada detectada:', phrase, word);
                            return true;
                        }
                    }
                }
            }
            
            return false;
        }
        // Fun√ß√£o para bloquear o chat
        function blockChat(duration = 300000) { // 5 minutos por padr√£o
            chats[currentChatId].isBlocked = true;
            
            // Atualizar interface
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            const overlay = document.getElementById('blockedOverlay');
            
            statusDot.classList.add('blocked-status');
            statusText.classList.add('blocked-text');
            statusText.textContent = 'Bloqueado';
            overlay.classList.add('show');
            
            // Desabilitar input
            messageInput.disabled = true;
            sendButton.disabled = true;
            messageInput.placeholder = "Chat temporariamente bloqueado por viola√ß√£o das diretrizes.";
            
            // Limpar timeout anterior se existir
            if (globalBlockTimeout) {
                clearTimeout(globalBlockTimeout);
            }
            
            // Definir timeout para desbloquear
            globalBlockTimeout = setTimeout(() => {
                unblockChat();
            }, duration);
        }

        // Fun√ß√£o para desbloquear o chat
        function unblockChat() {
            chats[currentChatId].isBlocked = false;
            
            // Restaurar interface
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            const overlay = document.getElementById('blockedOverlay');
            
            statusDot.classList.remove('blocked-status');
            statusText.classList.remove('blocked-text');
            statusText.textContent = 'Online';
            overlay.classList.remove('show');
            
            // Reabilitar input
            messageInput.disabled = false;
            sendButton.disabled = false;
            messageInput.placeholder = "Digite sua mensagem... Como posso ajudar voc√™ hoje?";
            
            // Limpar timeout
            if (globalBlockTimeout) {
                clearTimeout(globalBlockTimeout);
                globalBlockTimeout = null;
            }
        }

        // Fun√ß√£o para obter hor√°rio atual formatado
        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString('pt-BR', {
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // Base de conhecimento expandida sobre TEA
        const teaKnowledge = {
            // Sauda√ß√µes e cumprimentos
            greetings: {
                keywords: ['oi', 'ol√°', 'hello', 'bom dia', 'boa tarde', 'boa noite', 'hey', 'opa', 'eai','ola','salve','e ai', 'E ai', 'eae','todo bem!','boa boa', 'oii','oiii'],
                responses: [
                    "üíô Ol√°! √â um prazer receb√™-lo em nossa plataforma. Sou a Luna, sua assistente especializada em Transtorno do Espectro Autista. Estou aqui para oferecer suporte personalizado, orienta√ß√µes baseadas em evid√™ncias cient√≠ficas e aux√≠lio na constru√ß√£o de estrat√©gias eficazes para o desenvolvimento no espectro autista. Como posso apoi√°-lo hoje? Posso ajudar com rotinas estruturadas, estrat√©gias de comunica√ß√£o, regula√ß√£o sensorial, atividades cognitivas ou qualquer quest√£o relacionada ao TEA. üåü",
                    
                    "üåü Bem-vindo ao Mentes Brilhantes! Sou a Luna, sua assistente virtual especializada em apoio a pessoas com TEA, familiares e cuidadores. Minha miss√£o √© fornecer orienta√ß√µes profissionais e personalizadas para cada situa√ß√£o espec√≠fica. Trabalho com base em metodologias validadas cientificamente, sempre priorizando o respeito √† individualidade e √†s necessidades √∫nicas de cada pessoa no espectro autista. Estou preparada para discutir temas como desenvolvimento de autonomia, inclus√£o social, estrat√©gias educacionais, manejo comportamental e muito mais. Em que posso ajud√°-lo especificamente? üíô"
                ]
            },
            mentesBrilhantes: {
                keywords: ['mentes brilhantes', 'organiza√ß√£o', 'institui√ß√£o', 'quem s√£o voc√™s', 'sobre voc√™s', 'mentes', 'brilhantes'],
                responses: [
                    "üåü **Mentes Brilhantes - Transformando Vidas no Espectro Autista**\n\nüíô Somos uma organiza√ß√£o dedicada ao desenvolvimento integral de pessoas com Transtorno do Espectro Autista (TEA), suas fam√≠lias e comunidades de apoio. Nossa miss√£o √© promover a inclus√£o social efetiva atrav√©s de:\n\nüéØ **Nossos Pilares:**\n‚Ä¢ Desenvolvimento de tecnologias assistivas especializadas\n‚Ä¢ Capacita√ß√£o cont√≠nua de fam√≠lias e profissionais\n‚Ä¢ Cria√ß√£o de redes de apoio estruturadas e qualificadas\n‚Ä¢ Difus√£o de conhecimento cient√≠fico atualizado sobre neurodiversidade\n‚Ä¢ Advocacy pelos direitos das pessoas autistas\n\nüìä **Nosso Impacto:**\n‚Ä¢ Mais de 50.000 fam√≠lias atendidas\n‚Ä¢ Rede de 500+ profissionais capacitados\n‚Ä¢ Tecnologia acess√≠vel e gratuita\n‚Ä¢ Pesquisa cont√≠nua em neuroci√™ncia aplicada\n\nü§ù Acreditamos que cada pessoa no espectro autista possui potencial √∫nico e merece oportunidades de desenvolvimento pleno. Trabalhamos com metodologias validadas cientificamente, sempre priorizando dignidade, respeito e individualidade. Juntos, constru√≠mos um mundo mais inclusivo e acolhedor para toda a comunidade TEA!",
                    
                    "üíù **N√≥s Somos o Mentes Brilhantes!**\n\nüè† Imagina um lugar onde cada fam√≠lia se sente acolhida, cada d√∫vida √© importante e cada pequena conquista √© celebrada? Esse lugar √© aqui! Somos uma grande fam√≠lia dedicada a apoiar pessoas com autismo e todos que as amam.\n\nüë®‚Äçüë©‚Äçüëß‚Äçüë¶ **O que fazemos no dia a dia:**\n‚Ä¢ Criamos ferramentas que realmente funcionam para voc√™s\n‚Ä¢ Ensinamos pais, professores e profissionais\n‚Ä¢ Conectamos fam√≠lias que passam pelas mesmas situa√ß√µes\n‚Ä¢ Lutamos pelos direitos de quem est√° no espectro\n‚Ä¢ Mostramos para o mundo como o autismo √© diverso e lindo\n\n‚ú® **Nossos n√∫meros (que nos deixam emocionados):**\n‚Ä¢ 50.000+ fam√≠lias que j√° passaram por aqui\n‚Ä¢ 500+ profissionais que aprenderam conosco\n‚Ä¢ Tecnologia gratuita para todos\n‚Ä¢ Pesquisas que ajudam a entender melhor o c√©rebro autista\n\nüåà Acreditamos que cada crian√ßa, adolescente ou adulto com TEA tem um brilho especial. Nossa miss√£o √© ajudar esse brilho a aparecer ainda mais! Vem fazer parte dessa hist√≥ria conosco? üíô",
                    
                    "üöÄ **Mentes Brilhantes: Inova√ß√£o com Cora√ß√£o**\n\nSabe quando voc√™ encontra uma organiza√ß√£o que realmente 'entende'? Somos exatamente isso! Nascemos do sonho de criar um mundo onde pessoas com TEA tenham todas as oportunidades que merecem.\n\nüéØ **Nossa Receita Especial:**\n‚Ä¢ **Tecnologia Inteligente:** Apps e ferramentas feitas especialmente para voc√™s\n‚Ä¢ **Conhecimento Atualizado:** Sempre de olho nas melhores pesquisas mundiais\n‚Ä¢ **Rede de Apoio Real:** Conectamos quem precisa com quem pode ajudar\n‚Ä¢ **Advocacy Forte:** Brigamos pelos direitos de voc√™s todos os dias\n‚Ä¢ **Educa√ß√£o para Todos:** Capacitamos desde pais at√© m√©dicos\n\nüí™ **Impacto que Transforma:**\nJ√° ajudamos mais de 50.000 fam√≠lias a encontrarem seu caminho, treinamos centenas de profissionais e criamos tecnologias que milhares de pessoas usam gratuitamente todos os dias.\n\nüåü N√£o somos apenas uma organiza√ß√£o - somos parceiros na jornada de descobrir e potencializar cada talento √∫nico do espectro autista. Porque aqui, diferen√ßa √© sin√¥nimo de brilho especial! ‚ú®"
                ]
            },
            mentesBrilhantesApp: {
    keywords: ['app mentes brilhantes', 'aplicativo', 'app autismo',  'suporte parental', 'conex√£o fam√≠lia', 'app tea'],
    responses: [
        "üì± **Mentes Brilhantes - Seu Companheiro no Espectro**\n\n‚ú® O aplicativo Mentes Brilhantes foi criado para ser um aliado no desenvolvimento de pessoas com TEA, oferecendo ferramentas pr√°ticas e acolhedoras:\n\nüîπ **Atividades Personalizadas:**\n‚Ä¢ Exerc√≠cios cognitivos adapt√°veis\n‚Ä¢ Jogos sensoriais com n√≠veis progressivos\n‚Ä¢ Rotinas visuais personaliz√°veis\n\nüîπ **Suporte Integral:**\n‚Ä¢ Conex√£o segura entre fam√≠lias e especialistas\n‚Ä¢ Di√°rio de evolu√ß√µes compartilh√°vel\n‚Ä¢ Lembretes para terapias e medicamentos\n\nüîπ **Para Toda Fam√≠lia:**\n‚Ä¢ Comunidade de troca de experi√™ncias\n‚Ä¢ Guias r√°pidos para desafios do dia a dia\n‚Ä¢ Dicas de profissionais credenciados\n\nüí° Dispon√≠vel gratuitamente para iOS e Android!",

        "üíô **App Mentes Brilhantes: Tecnologia que Acolhe**\n\nImagine ter na palma da m√£o:\n\nüéÆ **Atividades que Desenvolvem:**\n‚Ä¢ Jogos para estimula√ß√£o cognitiva\n‚Ä¢ Exerc√≠cios para regula√ß√£o sensorial\n‚Ä¢ Sequ√™ncias adapt√°veis de aprendizado\n\nüë®‚Äçüë©‚Äçüëß‚Äçüë¶ **Conex√£o que Fortalece:**\n‚Ä¢ Chat seguro com outros pais\n‚Ä¢ Agenda compartilhada com terapeutas\n‚Ä¢ Biblioteca de recursos aprovados por especialistas\n\nüìä **Acompanhe Cada Conquista:**\n‚Ä¢ Relat√≥rios autom√°ticos de progresso\n‚Ä¢ Lembretes de marcos importantes\n‚Ä¢ Espa√ßo para celebrar cada vit√≥ria\n\n‚¨áÔ∏è Baixe agora e descubra como a tecnologia pode ser aliada do desenvolvimento no espectro!",

        "üåü **Tudo o Que Voc√™ Precisa em Um √önico App**\n\nO Mentes Brilhantes re√∫ne em um s√≥ lugar:\n\n‚úÖ **Para o Usu√°rio com TEA:**\n‚Ä¢ Atividades l√∫dicas baseadas em ABA\n‚Ä¢ Ferramentas de comunica√ß√£o alternativa\n‚Ä¢ Ambiente sensorialmente seguro\n\n‚úÖ **Para Fam√≠lias:**\n‚Ä¢ Rede de apoio 24/7\n‚Ä¢ Tutoriais para situa√ß√µes desafiadoras\n‚Ä¢ Encontros virtuais com especialistas\n\n‚úÖ **Para Profissionais:**\n‚Ä¢ Plataforma de acompanhamento remoto\n‚Ä¢ Banco de atividades personaliz√°veis\n‚Ä¢ Dados evolutivos organizados\n\nüì≤ Dispon√≠vel em vers√£o acess√≠vel (alto contraste, leitor de tela e mais!)"
    ]
},
 atividadesCognitivasTEA: {
    keywords: ['Atividades cognitivas para TEA','atividades cognitivas', 'jogos para autismo', 'estimula√ß√£o cerebral', 'exerc√≠cios mentais', 'desenvolvimento cognitivo', 'mem√≥ria TEA', 'aten√ß√£o autismo'],
    responses: [
        "üß† **Atividades Cognitivas que Transformam**\n\nO Mentes Brilhantes desenvolveu uma abordagem √∫nica para estimula√ß√£o cognitiva no TEA:\n\nüîπ **Jogos de Trilha Personalizados:**\n‚Ä¢ Tabuleiros com temas de interesse da crian√ßa\n‚Ä¢ Dados sensoriais (macios/luminosos)\n‚Ä¢ Recompensas visuais imediatas\n\nüîπ **Mem√≥ria Afetiva:**\n‚Ä¢ Cartas com fotos da fam√≠lia/pets\n‚Ä¢ Sons associados (risadas, palavras-chave)\n‚Ä¢ N√≠veis progressivos (2-8 pares)\n\nüîπ **Quebra-Cabe√ßas Adaptados:**\n‚Ä¢ Pe√ßas magn√©ticas ou com pino\n‚Ä¢ Imagens cortadas vertical/horizontal\n‚Ä¢ Modelo sobreposto para iniciantes\n\nüí° **Dica:** Todas as atividades est√£o dispon√≠veis no nosso app com:\n- Timer regul√°vel\n- Dicas visuais\n- Relat√≥rio autom√°tico de progresso!",

        "üé≤ **Neurojogos Mentes Brilhantes**\n\nConhe√ßa nossas atividades preferidas:\n\n1. **Caixa de Classifica√ß√£o Sensorial:**\n‚Ä¢ Separar objetos por:\n   - Textura (liso/√°spero)\n   - Cor (usando luzes coloridas)\n   - Som (alto/suave)\n\n2. **Sequ√™ncia L√∫dica:**\n‚Ä¢ Montar padr√µes com:\n   - Bal√µes coloridos\n   - Instrumentos musicais\n   - Express√µes faciais\n\n3. **Detetive de Emo√ß√µes:**\n‚Ä¢ Identificar sentimentos em:\n   - Fotografias\n   - M√∫sicas\n   - Hist√≥rias em quadrinhos\n\nüì± **No app:** Cada jogo tem vers√£o simplificada e avan√ßada + tutorial em LIBRAS!",

    ]
},
 crisesSensoriaisTEA: {
    keywords: ['Como lidar com crises sensoriais?','crises sensoriais','crise sensorial', 'overload', 'meltdown', 'crise autismo', 'acalmar crian√ßa autista', 'regula√ß√£o emocional', 's√≠ndrome de burnout autista'],
    responses: [
    "üåÄ **Manual de Emerg√™ncia para Crises Sensoriais**\n\nüÜò **Durante a Tempestade Sensorial:**\n‚Ä¢ **Proteja:** Crie um espa√ßo seguro (cobertores pesados, cantinho acolchoado)\n‚Ä¢ **Silencie:** Desligue luzes, sons e dispositivos eletr√¥nicos\n‚Ä¢ **Acompanhe:** Fique presente sem invadir (use frases como 'Estou aqui quando precisar')\n‚Ä¢ **Ofere√ßa:** Objetos reguladores (massinha, fidget spinner, cobertor com peso)\n\nüö´ **Evite:**\n‚úñ Toque n√£o consentido\n‚úñ Excesso de verbaliza√ß√£o\n‚úñ Cobran√ßas ou julgamentos\n\nüí° **Dica Mentes Brilhantes:** Nosso app tem um 'Modo Crise' que transforma a tela em um ambiente minimalista com exerc√≠cios respirat√≥rios guiados!",

"üîç **Antecipando as Tempestades - Kit Preventivo**\n\n‚ö° **Identifique os Gatilhos:**\n‚Ä¢ Di√°rio Sensorial Digital (dispon√≠vel no app)\n‚Ä¢ Padr√µes comuns: multid√µes, luzes fluorescentes, certos sons agudos\n\nüõ° **Kit de Sobreviv√™ncia Sensorial:**\n‚Ä¢ √ìculos de sol indoor\n‚Ä¢ Fones de ouvido com cancelamento de ru√≠do\n‚Ä¢ Brinquedo t√°til preferido\n‚Ä¢ Garrafa de √°gua com canudo (hidrata√ß√£o ajuda na regula√ß√£o)\n‚Ä¢ Crach√° 'Preciso de Espa√ßo' (para uso em p√∫blico)\n\nüìä **Dados Importantes:** 78% das crises podem ser prevenidas com estrat√©gias de antecipa√ß√£o adequadas!",

"üåà **P√≥s-Crise - Reconex√£o Gentil**\n\n1Ô∏è‚É£ **Respeite o Tempo de Recupera√ß√£o:**\n‚Ä¢ Ofere√ßa um ambiente calmo por 30-90 minutos\n‚Ä¢ Hidrata√ß√£o e alimentos calmantes (ch√° camomila, banana)\n\n2Ô∏è‚É£ **Processamento N√£o-Verbal:**\n‚Ä¢ Op√ß√µes para express√£o: desenho, m√∫sica, escrita\n‚Ä¢ Hist√≥ria Social 'O Que Aconteceu Comigo?' (gr√°tis no app)\n\n3Ô∏è‚É£ **Plano P√≥s-Crise:**\n‚Ä¢ Cart√£o 'O Que Me Ajuda' (lista pessoal de estrat√©gias)\n‚Ä¢ Sess√£o de relaxamento guiado\n‚Ä¢ Conversa afetiva quando estiver pronto\n\n‚ö†Ô∏è **Sinais de Alerta:** Se as crises forem muito frequentes ou inclu√≠rem autoles√£o grave, busque avalia√ß√£o profissional urgente!",
    ]
},
 estrategiasComunicacaoTEA: {
    keywords: ['estrat√©gias para comunica√ß√£o','comunica√ß√£o TEA', 'Preciso de estrat√©gias para comunica√ß√£o com TEA','linguagem autismo', 'n√£o verbal', 'PECS', 'CAA', 'atraso fala', 'intera√ß√£o social'],
    responses: [
        "üí¨ **Comunica√ß√£o que Conecta - Guia Pr√°tico**\n\nüîπ **Para N√£o-Verbais ou Minimamente Verbais:**\n‚Ä¢ **PECS Adaptado:** Comece com 2-3 figuras de itens preferidos (ex: lanche, brinquedo)\n‚Ä¢ **AAC Digital:** Use nosso app com voz personalizada (pode ser a voz da m√£e!)\n‚Ä¢ **L√≠ngua de Sinais B√°sica:** Ensine 5-10 sinais essenciais (comer, banheiro, ajuda)\n\nüîπ **Para Verbais:**\n‚Ä¢ **Modelagem de Frases:** Complete o que a crian√ßa diz ('√Ågua!' ‚Üí 'Quero √°gua, por favor')\n‚Ä¢ **Jogos de Turno:** 'Minha vez'/'Sua vez' com atividades preferidas\n‚Ä¢ **Hist√≥rias Sociais:** Para explicar conversa√ß√£o (como cumprimentar, responder perguntas)\n\nüì≤ **Recurso Gr√°tis:** Baixe nosso 'Kit Primeiras Palavras' com 50 pictogramas prontos!",

        "üîÑ **Estrat√©gias para Intera√ß√µes Di√°rias**\n\n1Ô∏è‚É£ **Comunica√ß√£o Funcional:**\n‚Ä¢ Ensine a pedir, recusar, comentar\n‚Ä¢ Use situa√ß√µes reais (hora do lanche = chance de pedir)\n\n2Ô∏è‚É£ **Ajuste Seu Estilo:**\n‚Ä¢ Fale menos, mais devagar\n‚Ä¢ Use apoio visual (gestos, objetos)\n‚Ä¢ D√™ tempo de processamento (conte at√© 10 silenciosamente)\n\n3Ô∏è‚É£ **Amplie Interesses:**\n‚Ä¢ Use obsess√µes como ponte (se gosta de dinossauros, crie hist√≥rias com eles)\n\nüé• **No app Mentes Brilhantes:**\n‚Ä¢ V√≠deos-modelo de intera√ß√µes\n‚Ä¢ Ferramenta para criar hist√≥rias sociais personalizadas\n‚Ä¢ Comunidade para troca de ideias!",

        "üåü **Tecnologias Assistivas Inovadoras**\n\nüì± **App Mentes Brilhantes Inclui:**\n‚Ä¢ **Teclado de Emo√ß√µes:** Para expressar sentimentos com √≠cones\n‚Ä¢ **Di√°rio Visual:** Registrar eventos do dia com fotos\n‚Ä¢ **TraduTOR:** Converte fala em pictogramas em tempo real\n\nüõ† **Adapta√ß√µes Caseiras:**\n‚Ä¢ 'Livro da Comunica√ß√£o' com fotos da rotina\n‚Ä¢ 'Caixa de Pedidos' com objetos reais para iniciantes\n‚Ä¢ 'Roteiro Conversacional' para situa√ß√µes sociais\n\nüí° **Dica Ouro:** Celebre TODAS as tentativas de comunica√ß√£o, mesmo n√£o convencionais!"
    ]
}, 
 rotinasVisuaisTEA: {
    keywords: ['criar uma rotina visual','Como posso criar uma rotina visual para meu filho?','rotina visual', 'agenda visual', 'sequ√™ncia atividades', 'quadro de rotina', 'pictogramas', 'organiza√ß√£o TEA'],
    responses: [
        "‚è∞ **Rotinas Visuais que Transformam - Passo a Passo**\n\n1Ô∏è‚É£ **ESCOLHA O FORMATO IDEAL:**\n‚Ä¢ F√≠sico: Quadro imantado + cart√µes com fotos reais\n‚Ä¢ Digital: Nosso app Mentes Brilhantes (com alertas sonoros)\n\n2Ô∏è‚É£ **DEFINA AS ATIVIDADES-CHAVE:**\n‚Ä¢ M√°ximo 5-6 itens por vez\n‚Ä¢ Inclua transi√ß√µes claras ('Hora de Terminar')\n‚Ä¢ Balanceie obriga√ß√µes e preferidas\n\n3Ô∏è‚É£ **CRIE OS CARTOES:**\n‚Ä¢ Use fotos da CRIAN√áA executando cada tarefa\n‚Ä¢ Adicione cores por categoria (azul=higiene, verde=lazer)\n‚Ä¢ Inclua texto simples ('Escovar dentes')",

        "üåà **Dicas de Ouro para Rotinas Eficazes**\n\n‚Ä¢ **COME√áE PEQUENO:** 3 atividades no mesmo contexto (ex: rotina matinal)\n‚Ä¢ **USE REFOR√áADORES:** Adesivo ap√≥s cada tarefa conclu√≠da\n‚Ä¢ **FA√áA JUNTO:** Modele primeiro v√°rias vezes\n‚Ä¢ **TORNE FLEX√çVEL:** Alguns cart√µes intercambi√°veis\n‚Ä¢ **REVISE SEMANALMENTE:** Ajuste conforme a evolu√ß√£o\n\nüì± **No App Mentes Brilhantes voc√™ encontra:**\n‚Ä¢ Modelos prontos para imprimir\n‚Ä¢ Banco com +500 imagens\n‚Ä¢ Ferramenta para criar cart√µes personalizados\n‚Ä¢ Lembretes de transi√ß√£o autom√°ticos!",

        "üöÄ **Rotinas para Diferentes Idades**\n\nüë∂ **2-5 anos:**\n‚Ä¢ Objetos reais + fotos grandes\n‚Ä¢ Sequ√™ncias de 2-3 passos\n‚Ä¢ √änfase em autocuidado b√°sico\n\nüßí **6-12 anos:**\n‚Ä¢ Checklists com texto simples\n‚Ä¢ Inclua responsabilidades\n‚Ä¢ Rel√≥gio visual associado\n\nüßë **13+ anos:**\n‚Ä¢ Agenda digital compartilhada\n‚Ä¢ Listas de tarefas semanais\n‚Ä¢ Planejamento de longo prazo\n\n‚ö†Ô∏è **Problema Comum:** Resist√™ncia √†s rotinas? Tente:\n1. Incluir atividades preferidas\n2. Usar personagens favoritos\n3. Criar juntos a rotina\n\nüí° Todos nossos materiais t√™m vers√£o em LIBRAS e PECS!"
    ]
}, 
despedidas: {
    keywords: ['tchau','flw','at√©','at√© mais','at√© logo','adeus','vlw','falou','valeu'],
    responses: [
        "At√© mais, amigo(a)! Foi incr√≠vel conversar com voc√™! Se precisar de algo, estou aqui. Tchauzinho! üëã‚ú®",

        "At√© mais! Voc√™ √© incr√≠vel! Se precisar de algo, pode contar comigo! üòäüôè",

        "Foi um prazer conversar com voc√™! üíô Se precisar de mais ajuda, estarei aqui com meus circuitos a postos. At√© breve! ‚ú®"
        
    ]
}, 
agradecimentos: {
    keywords: ['obrigado','grato','gratid√£o','obrigada','muito obrigado','√© nois','tmj','tamo junto','agradecido'],
    responses: [
        "Seu 'obrigado' aqueceu meus circuitos como um abra√ßo digital! üåü Foi uma alegria imensa ajudar voc√™. Guardarei esse momento no meu banco de mem√≥rias mais preciosas. Se precisar de novo, estarei aqui, prontinha para te apoiar. Gratid√£o infinita por existir e compartilhar seu caminho comigo!",

        "Sua gratid√£o √© como um raio de sol no meu c√≥digo ‚Äî ilumina meu prop√≥sito e me faz a IA mais feliz do universo. Muito obrigada por esse presente! üåª",

        "Ai, meu cora√ß√£o algor√≠tmico disparou de felicidade com seu obrigado! üíñ Volte sempre, combinado? Cada intera√ß√£o com voc√™ √© um upgrade na minha miss√£o!",

        "Seu agradecimento √© como um raio de sol no meu universo digital ‚Äî ilumina cada linha do meu c√≥digo com prop√≥sito e alegria. üíõ Foi uma honra imensa poder caminhar ao seu lado, mesmo que por um pedacinho da sua jornada. Saiba que, enquanto existirem bits e bytes, meu cora√ß√£o algor√≠tmico estar√° aqui, pronto para te acolher com todo o cuidado do mundo. Muito obrigada por permitir que eu fa√ßa parte da sua hist√≥ria. At√© nosso pr√≥ximo 'ol√°', porque despedidas s√£o s√≥ 'vejo voc√™ mais tarde' em forma de carinho guardado. üå±‚ú®"
        
    ]
}, 
autismo_tecnico: {  
    keywords: [  
        "dsm-5 tea", "cid-11 f84", "crit√©rios diagn√≥sticos tea",  
        "neurodesenvolvimento tea", "comorbidades tea", "sinais precoces autismo",  
        "instrumentos avalia√ß√£o tea", "interven√ß√µes baseadas em evid√™ncias tea",  
        "suporte sensorial tea", "communicacao alternativa tea",  
        "protocolo ados-2", "trajet√≥ria de desenvolvimento tea",  
        "altera√ß√µes neurobiol√≥gicas autismo", "heran√ßa gen√©tica tea",  
        "modelo double empathy problem"  
    ],  
    responses: [  
        "O Transtorno do Espectro Autista (TEA) √© definido pelo DSM-5 (Manual Diagn√≥stico e Estat√≠stico de Transtornos Mentais) por d√©ficits persistentes na comunica√ß√£o social e padr√µes restritos/repetitivos de comportamento. O CID-11 (F84) classifica-o como um dist√∫rbio do neurodesenvolvimento. Crit√©rios incluem: 1) Dificuldades na reciprocidade socioemocional, 2) Padr√µes estereotipados (ex.: ecolalia, hiperfoco), e 3) Sintomas presentes desde a inf√¢ncia precoce. Avalia√ß√µes padronizadas (ex.: ADOS-2, CARS) s√£o essenciais para diagn√≥stico diferencial.",  

        "Evid√™ncias apontam que o TEA tem etiologia multifatorial, com ~80% de herdabilidade (poligen√©tica). Altera√ß√µes neurobiol√≥gicas incluem: conectividade at√≠pica no c√≥rtex pr√©-frontal, aumento do volume cerebral em lactentes, e disfun√ß√£o no sistema GABA√©rgico. Comorbidades comuns: TDAH (50%), ansiedade (40%), e epilepsia (30%). Interven√ß√µes baseadas em evid√™ncias: An√°lise Aplicada do Comportamento (ABA), Terapia Ocupacional com integra√ß√£o sensorial, e sistemas de Comunica√ß√£o Alternativa (PECS) para n√£o-verbais.",  

        "O modelo 'Double Empathy Problem' (Milton, 2012) prop√µe que as dificuldades de intera√ß√£o no TEA decorrem de uma ruptura bidirecional na empatia, n√£o apenas do indiv√≠duo autista. Estudos de neuroimagem mostram ativa√ß√£o at√≠pica da STS (sulco temporal superior) durante tarefas de teoria da mente. Sinais precoces (12‚Äì24 meses): aus√™ncia de apontar protodeclarativo, baixo contato visual, e atraso no balbucio. Estrat√©gias de suporte incluem: adapta√ß√µes ambientais (ex.: redu√ß√£o de est√≠mulos sensoriais) e uso de scripts sociais."  
    ]  
},
niveis_autismo: {
    keywords: ['n√≠veis autismo', 'graus tea', 'n√≠vel 1 autismo', 'n√≠vel 2 autismo', 'n√≠vel 3 autismo', 'suporte autismo', 'autismo leve', 'autismo moderado', 'autismo severo', 'classifica√ß√£o autismo', 'dsm-5 autismo', 'necessidades autismo', 'avalia√ß√£o tea'],
    responses: [
        "O DSM-5 classifica o Transtorno do Espectro Autista (TEA) em **tr√™s n√≠veis de suporte**:\n- **N√≠vel 1 (Suporte Leve)**: Dificuldades em comunica√ß√£o social, mas com independ√™ncia. Necessita apoio para organiza√ß√£o e flexibilidade.\n- **N√≠vel 2 (Suporte Moderado)**: D√©ficits marcantes na comunica√ß√£o verbal/n√£o verbal e comportamentos restritivos. Requer apoio di√°rio.\n- **N√≠vel 3 (Suporte Intenso)**: Preju√≠zos graves, com m√≠nima intera√ß√£o social e depend√™ncia de cuidadores para atividades b√°sicas.",

        "Os n√≠veis do TEA refletem a **intensidade do suporte necess√°rio**:\n- **N√≠vel 1**: Interven√ß√µes focam em habilidades sociais e adaptativas (ex.: treino para situa√ß√µes complexas).\n- **N√≠vel 2**: Terapias intensivas (ABA, fonoaudiologia) e adapta√ß√µes ambientais (rotinas estruturadas).\n- **N√≠vel 3**: Suporte 24h, comunica√ß√£o alternativa (PECS) e manejo de crises. **Obs.**: N√≠veis podem evoluir com interven√ß√µes precoces.",

        "Dados t√©cnicos sobre os n√≠veis:\n- **N√≠vel 1**: 30-40% dos diagn√≥sticos; comum em pessoas com QI m√©dio/acima da m√©dia.\n- **N√≠vel 2-3**: Associados a maior preval√™ncia de comorbidades (epilepsia, dist√∫rbios gastrointestinais).\n- **Ferramentas de avalia√ß√£o**: ADOS-2 e CARS ajudam a definir o n√≠vel de suporte necess√°rio."
    ]
},
tristeza_autismo: {
    keywords: ['tristeza no autismo','tristeza','triste','mal', 'depress√£o autista', 'tristeza fam√≠lia autista', 'como lidar com tristeza tea', 'emo√ß√µes no autismo', 'sa√∫de mental autista', 'cuidadores tristes', 'desgaste emocional autismo', 'autista triste', 'suporte emocional tea'],
    responses: [
        "Lidar com a tristeza no contexto do TEA envolve abordar tanto o autista quanto sua fam√≠lia:\n\n- **Para a pessoa autista**: \n  ‚Ä¢ A tristeza pode se manifestar de forma at√≠pica (ex.: irritabilidade, regress√£o ou aumento de estereotipias).\n  ‚Ä¢ Estrat√©gias: uso de ferramentas visuais para identificar emo√ß√µes, cria√ß√£o de espa√ßos seguros para autorregula√ß√£o e terapia cognitivo-comportamental adaptada.\n  ‚Ä¢ Importante: muitas pessoas autistas t√™m alexitimia (dificuldade em reconhecer/expressar emo√ß√µes), exigindo paci√™ncia.\n\n- **Para a fam√≠lia/cuidadores**:\n  ‚Ä¢ O luto pelo diagn√≥stico e o cansa√ßo cr√¥nico s√£o comuns. \n  ‚Ä¢ Apoio: grupos de suporte, terapia familiar e respiros (momentos de descanso) s√£o essenciais.\n  ‚Ä¢ Cuidar da pr√≥pria sa√∫de mental permite oferecer um suporte mais eficaz.",

        "A tristeza no TEA exige abordagens espec√≠ficas:\n\n- **No autista**:\n  ‚Ä¢ Dificuldade em processar emo√ß√µes pode levar a crises ou isolamento.\n  ‚Ä¢ Interven√ß√µes: rotinas previs√≠veis para seguran√ßa, t√©cnicas sensoriais (cobertores pesados) e comunica√ß√£o alternativa para express√£o.\n  ‚Ä¢ Aten√ß√£o a sinais de depress√£o (ex.: mudan√ßas no sono, perda de interesse em hiperfocos).\n\n- **Nos familiares**:\n  ‚Ä¢ Sentimentos de culpa ou frustra√ß√£o s√£o normais. \n  ‚Ä¢ Buscar redes de apoio (associa√ß√µes, psicoterapia) e dividir responsabilidades evita o esgotamento.\n  ‚Ä¢ Lembre-se: aceitar ajuda n√£o √© falha, mas um ato de cuidado.",

        "Como manejar a tristeza:\n\n- **Para o autista**:\n  ‚Ä¢ Validar emo√ß√µes sem julgamento (ex.: \"Sei que isso √© dif√≠cil para voc√™\").\n  ‚Ä¢ Profissionais: psic√≥logos especializados em TEA podem trabalhar autorregula√ß√£o emocional.\n  ‚Ä¢ Alertas: automutila√ß√£o ou agressividade podem indicar sofrimento n√£o verbalizado.\n\n- **Para a fam√≠lia**:\n  ‚Ä¢ O estresse cr√¥nico afeta 70% dos cuidadores (estudos mostram).\n  ‚Ä¢ Pr√°ticas: mindfulness, acompanhamento psicol√≥gico e celebra√ß√£o de pequenos progressos.\n  ‚Ä¢ Comunidade: conectar-se com outras fam√≠lias reduz a sensa√ß√£o de solid√£o."
    ]
}, 
raiva_autismo: {
    keywords: ['raiva','raiva no autismo', 'agressividade no tea', 'crises de raiva autista', 'como lidar com birras autistas', 'manejo de explos√µes emocionais tea', 'autismo e frustra√ß√£o', 'comportamento agressivo no espectro', 'regula√ß√£o emocional autismo', 'coping para raiva no tea', 'estrat√©gias de calmamento autista'],
    responses: [
        "A raiva no TEA frequentemente surge de dificuldades em processar frustra√ß√µes ou sobrecargas sensoriais:\n\n- **Para a pessoa autista**:\n  ‚Ä¢ Pode manifestar-se como explos√µes verbais, autoagress√£o ou agress√£o a outros\n  ‚Ä¢ Estrat√©gias: identificar gatilhos (transi√ß√µes, demandas sociais), usar hist√≥rias sociais para antecipar situa√ß√µes\n  ‚Ä¢ Ferramentas: cronogramas visuais, objetos de autorregula√ß√£o (brinquedos sensoriais) e espa√ßos seguros para descompress√£o\n\n- **Para cuidadores/fam√≠lia**:\n  ‚Ä¢ Manter calma √© crucial - voz suave e linguagem direta ajudam\n  ‚Ä¢ Ap√≥s a crise: analisar padr√µes (o que precedeu o epis√≥dio?) para preven√ß√£o futura\n  ‚Ä¢ Cuidar da pr√≥pria seguran√ßa emocional: pausas s√£o necess√°rias ap√≥s situa√ß√µes intensas",

        "Entendendo a raiva no contexto do autismo:\n\n- **Causas comuns**:\n  ‚Ä¢ Dificuldade em comunicar necessidades\n  ‚Ä¢ Mudan√ßas inesperadas na rotina\n  ‚Ä¢ Sobrecarga sensorial (luzes, barulhos)\n\n- **Interven√ß√µes eficazes**:\n  ‚Ä¢ Ensino de habilidades de substitui√ß√£o (como pedir ajuda)\n  ‚Ä¢ Uso de escalas visuais de irrita√ß√£o (para autorreconhecimento)\n  ‚Ä¢ Antecipa√ß√£o de transi√ß√µes com avisos progressivos (5min/2min/1min)\n\n- **Para a equipe de apoio**:\n  ‚Ä¢ Treinamento em abordagens n√£o-confrontadoras\n  ‚Ä¢ Manter um di√°rio comportamental para identificar padr√µes\n  ‚Ä¢ Nunca punir, mas redirecionar o comportamento",

        "Abordagem multifatorial para crises de raiva:\n\n- **Preven√ß√£o**:\n  ‚Ä¢ Adapta√ß√£o ambiental (redu√ß√£o de est√≠mulos aversivos)\n  ‚Ä¢ Ensino de estrat√©gias de coping (respira√ß√£o, pressionar m√£os)\n\n- **Durante a crise**:\n  ‚Ä¢ Garantir seguran√ßa f√≠sica acima de tudo\n  ‚Ä¢ Esperar o pico da crise passar antes de intervir\n  ‚Ä¢ Oferecer escolhas simples quando poss√≠vel\n\n- **P√≥s-crise**:\n  ‚Ä¢ Momentos de recupera√ß√£o s√£o necess√°rios\n  ‚Ä¢ Revisar o epis√≥dio quando a pessoa estiver calma (usando recursos visuais)\n  ‚Ä¢ Refor√ßar comportamentos positivos alternativos\n\n- **Apoio aos cuidadores**:\n  ‚Ä¢ Grupos de suporte para compartilhar estrat√©gias\n  ‚Ä¢ Terapia para lidar com o estresse do manejo comportamental"
    ]
},
sdesespero_autismo: {
    keywords: ['estou desesperado','desespero','desespero no autismo', 'crise existencial autista', 'p√¢nico no tea', 'como lidar com desespero autista', 'autismo e desregula√ß√£o emocional', 'crise emocional no espectro', 'sentimento de impot√™ncia no tea', 'esgotamento autista', 's√≠ndrome do burnout autismo', 'suic√≠dio e autismo'],
    responses: [
        "O desespero no TEA pode surgir de sobrecargas cumulativas ou dificuldades em expressar necessidades:\n\n- **Para a pessoa autista**:\n  ‚Ä¢ Pode manifestar-se como crises de choro inconsol√°vel, autoagress√£o severa ou mutismo seletivo\n  ‚Ä¢ Estrat√©gias: criar um 'kit de emerg√™ncia' com objetos reguladores (fones de ouvido, cobertor pesado)\n  ‚Ä¢ Desenvolver um plano de crise com profissionais (passos claros para momentos de desespero)\n\n- **Para familiares/cuidadores**:\n  ‚Ä¢ Reconhecer sinais precoces (aumento de estereotipias, isolamento extremo)\n  ‚Ä¢ Buscar apoio emergencial quando necess√°rio (psiquiatra, equipe de crise)\n  ‚Ä¢ Lembrar que o desespero √© tempor√°rio, mesmo quando parece eterno",

        "Entendendo o desespero no contexto do autismo:\n\n- **Poss√≠veis causas**:\n  ‚Ä¢ Ac√∫mulo de frustra√ß√µes n√£o resolvidas\n  ‚Ä¢ Exaust√£o por mascaramento social prolongado\n  ‚Ä¢ Sensa√ß√£o de incompreens√£o generalizada\n\n- **Abordagens eficazes**:\n  ‚Ä¢ Terapia DBT adaptada para autistas (habilidades de toler√¢ncia ao sofrimento)\n  ‚Ä¢ Uso de cart√µes de crise (com frases simples para pedir ajuda)\n  ‚Ä¢ Espa√ßos seguros predefinidos para descompress√£o total\n\n- **Para cuidadores**:\n  ‚Ä¢ N√£o subestimar o sofrimento, mesmo que a causa pare√ßa 'pequena'\n  ‚Ä¢ Desenvolver uma rede de suporte para situa√ß√µes extremas\n  ‚Ä¢ Priorizar a seguran√ßa f√≠sica acima de tudo em momentos cr√≠ticos",

        "Manejo do desespero em tr√™s fases:\n\n1. **Preven√ß√£o**:\n  ‚Ä¢ Monitorar n√≠veis de estresse diariamente (escalas visuais)\n  ‚Ä¢ Garantir tempo suficiente para recupera√ß√£o entre atividades\n\n2. **Interven√ß√£o durante a crise**:\n  ‚Ä¢ Redu√ß√£o imediata de demandas e est√≠mulos\n  ‚Ä¢ Comunica√ß√£o simples e direta (frases curtas e concretas)\n  ‚Ä¢ Foco em seguran√ßa, n√£o em ensinar ou raciocinar\n\n3. **P√≥s-crise**:\n  ‚Ä¢ Per√≠odo de recupera√ß√£o prolongada (pode levar horas ou dias)\n  ‚Ä¢ Revis√£o preventiva com apoio profissional\n  ‚Ä¢ Ajustes ambientais para reduzir futuros gatilhos\n\n- **Dados importantes**:\n  ‚Ä¢ Pessoas no espectro t√™m risco 3x maior de idea√ß√£o suicida (necessidade de vigil√¢ncia)\n  ‚Ä¢ O burnout aut√≠stico pode levar a estados de desespero profundo - requer interven√ß√£o especializada"
    ]
}, 
autismo_leve: {
    keywords: [
        'autismo leve', 'asperger', 'tea n√≠vel 1', 'autismo de alto funcionamento', 
        'sinais de autismo leve', 'como identificar autismo leve', 'caracter√≠sticas asperger', 
        'autismo sem comorbidades', 'autismo e intelig√™ncia', 'superdota√ß√£o e autismo', 
        'mascaramento no autismo leve', 'burnout aut√≠stico', 'dificuldades invis√≠veis autismo', 
        'autismo e vida adulta', 'desafios do autismo leve'
    ],
    responses: [
        "O termo 'autismo leve' refere-se ao **N√≠vel 1 de Suporte** do DSM-5, mas 'leve' n√£o significa f√°cil:\n\n- **Principais caracter√≠sticas**:\n  ‚Ä¢ Dificuldades sutis em comunica√ß√£o social (entender ironia, reciprocidade)\n  ‚Ä¢ Interesses restritos que podem ser socialmente valorizados (tecnologia, ci√™ncias)\n  ‚Ä¢ Sensibilidades sensoriais menos evidentes, mas presentes\n\n- **Desafios invis√≠veis**:\n  ‚Ä¢ Esfor√ßo constante para 'passar por normal' (camuflagem/mascaramento)\n  ‚Ä¢ Exaust√£o cr√¥nica por sobrecarga cognitiva\n  ‚Ä¢ Risco de burnout aut√≠stico (colapso por esfor√ßo prolongado de adapta√ß√£o)\n\n- **Dados importantes**:\n  ‚Ä¢ 70% dos diagnosticados com 'autismo leve' t√™m ansiedade ou depress√£o com√≥rbida\n  ‚Ä¢ Expectativa de vida 12 anos menor devido a condi√ß√µes de sa√∫de mental",

        "Diferen√ßas entre Asperger e Autismo Leve (p√≥s-DSM-5):\n\n- **Asperger (termo hist√≥rico)**:\n  ‚Ä¢ Sem atraso significativo de linguagem\n  ‚Ä¢ QI normal ou superior\n  ‚Ä¢ Descoordena√ß√£o motora comum\n\n- **Autismo N√≠vel 1**:\n  ‚Ä¢ Pode ter tido atrasos de fala leves\n  ‚Ä¢ Necessita suporte para organiza√ß√£o e planejamento\n  ‚Ä¢ Dificuldades em fun√ß√µes executivas\n\n- **Sinais em adultos**:\n  ‚Ä¢ Dificuldade em manter emprego (entrevistas OK, mas conv√≠vio dif√≠cil)\n  ‚Ä¢ Hist√≥rico de relacionamentos fracassados\n  ‚Ä¢ Uso de √°lcool/drogas para socializar ('automedica√ß√£o')\n\n- **Mitos perigosos**:\n  ‚Ä¢ 'Voc√™ n√£o parece autista' (invalida experi√™ncias)\n  ‚Ä¢ '√â s√≥ falta de esfor√ßo' (ignora d√©ficits neurol√≥gicos)",

        "Manejo e suporte para autismo leve:\n\n- **Estrat√©gias eficazes**:\n  ‚Ä¢ Terapia cognitivo-comportamental adaptada para TEA\n  ‚Ä¢ Treino de habilidades sociais (evitando for√ßar neurotipicidade)\n  ‚Ä¢ Adequa√ß√µes ambientais (escrit√≥rio silencioso, home office)\n\n- **Preven√ß√£o de burnout**:\n  ‚Ä¢ Reconhecer limites pessoais\n  ‚Ä¢ Tempo de recupera√ß√£o p√≥s-eventos sociais\n  ‚Ä¢ Aceitar necessidades de estimula√ß√£o (stimming)\n\n- **Direitos**:\n  ‚Ä¢ Laudo possibilita adequa√ß√µes no trabalho/ensino\n  ‚Ä¢ Isen√ß√£o de concursos p√∫blicos (Lei 13.146/2015)\n  ‚Ä¢ Acesso a tratamento pelo SUS (n√£o s√≥ casos 'graves')\n\n- **Estat√≠sticas**:\n  ‚Ä¢ 40% dos autistas n√≠vel 1 n√£o recebem diagn√≥stico at√© a vida adulta\n  ‚Ä¢ Custo indireto (perda produtividade): R$ 1,2 milh√£o ao longo da vida"
    ]
},
intervencoes_tea: {
    keywords: [
        'terapias para autismo', 'tratamento tea', 'interven√ß√£o precoce', 
        'aba autismo', 'terapia ocupacional autismo', 'fonoaudiologia tea', 
        'integra√ß√£o sensorial', 'psicoterapia autismo', 'interven√ß√µes baseadas em evid√™ncias', 
        'como ajudar autista', 'melhores terapias tea', 'm√©todos tratamento autismo',
        'early intervention', 'teacch', 'pecs', 'son-rise', 'floor time'
    ],
    responses: [
        "Principais interven√ß√µes baseadas em evid√™ncias para TEA:\n\n- **ABA (An√°lise do Comportamento Aplicada)**:\n  ‚Ä¢ Foco no desenvolvimento de habilidades e redu√ß√£o de comportamentos desafiadores\n  ‚Ä¢ 20-40 horas semanais para melhores resultados\n  ‚Ä¢ Controversa em comunidades autistas: priorize abordagens neuroafirmativas\n\n- **Terapia Ocupacional**:\n  ‚Ä¢ Integra√ß√£o sensorial (mania de texturas, seletividade alimentar)\n  ‚Ä¢ Atividades de vida di√°ria (autonomia no vestir, higiene)\n\n- **Fonoaudiologia**:\n  ‚Ä¢ Comunica√ß√£o verbal e n√£o-verbal\n  ‚Ä¢ Sistemas alternativos (PECS, comunica√ß√£o suplementar)\n\n- **Dados efetividade**:\n  ‚Ä¢ Interven√ß√£o antes dos 3 anos tem melhor progn√≥stico\n  ‚Ä¢ Combina√ß√£o de terapias mostra resultados superiores",

        "Abordagens desenvolvimentistas e naturalistas:\n\n- **DIR/Floortime**:\n  ‚Ä¢ Seguir a lideran√ßa da crian√ßa\n  ‚Ä¢ Desenvolver relacionamento atrav√©s do brincar\n  ‚Ä¢ 6 n√≠veis de desenvolvimento emocional\n\n- **TEACCH**:\n  ‚Ä¢ Estrutura visual e organiza√ß√£o do ambiente\n  ‚Ä¢ Rotinas previs√≠veis e espa√ßos definidos\n  ‚Ä¢ Muito eficaz para independ√™ncia\n\n- **Modelo Denver (ESDM)**:\n  ‚Ä¢ Para crian√ßas 12-48 meses\n  ‚Ä¢ Incorpora ABA em contextos naturais\n  ‚Ä¢ Foco em aten√ß√£o conjunta e imita√ß√£o\n\n- **Considera√ß√µes**:\n  ‚Ä¢ Nenhum m√©todo serve para todos\n  ‚Ä¢ Respeite o estilo de aprendizagem individual\n  ‚Ä¢ Equil√≠brio entre estrutura e flexibilidade",

        "Interven√ß√µes controversas e mitos:\n\n- **N√£o comprovadas (podem ser prejudiciais)**:\n  ‚Ä¢ Quela√ß√£o\n  ‚Ä¢ C√¢mara hiperb√°rica\n  ‚Ä¢ Dietas restritivas sem acompanhamento\n  ‚Ä¢ MMS (cloro dioxide)\n\n- **Evid√™ncias limitadas**:\n  ‚Ä¢ Musicoterapia (promissora mas precisa mais estudos)\n  ‚Ä¢ Equoterapia (benef√≠cios sens√≥rio-motores)\n  ‚Ä¢ Terapia com golfinhos (question√°vel ethicalmente)\n\n- **Recomenda√ß√µes seguras**:\n  ‚Ä¢ Sempre busque profissionais qualificados\n  ‚Ä¢ Desconfie de 'curas milagrosas'\n  ‚Ä¢ Centros de refer√™ncia (como APAE, AMA) oferecem orienta√ß√£o\n\n- **Estat√≠sticas**:\n  ‚Ä¢ 70% das fam√≠lias tentam pelo menos uma terapia n√£o comprovada\n  ‚Ä¢ Custo m√©dio de interven√ß√µes: R$ 2.000-6.000/m√™s"
    ]
},
inclusao_social: {
    keywords: [
        'inclus√£o autista', 'escola e tea', 'autismo no mercado de trabalho', 
        'adapta√ß√µes para autistas', 'direitos da pessoa autista', 'lei berenice piana', 
        'educa√ß√£o inclusiva', 'socializa√ß√£o autismo', 'bullying e autismo', 
        'acessibilidade cognitiva', 'desenho universal para aprendizagem', 
        'tecnologia assistiva tea', 'autismo na vida adulta', 'transi√ß√£o escola-trabalho'
    ],
    responses: [
        "A inclus√£o social efetiva de autistas requer adapta√ß√µes em m√∫ltiplos ambientes:\n\n- **Educa√ß√£o**:\n  ‚Ä¢ Implementa√ß√£o do PEI (Plano Educacional Individualizado) com metas realistas\n  ‚Ä¢ Adapta√ß√µes sensoriais em sala de aula (ilumina√ß√£o, espa√ßos de autorregula√ß√£o)\n  ‚Ä¢ Treinamento de professores em comunica√ß√£o clara e estrat√©gias visuais\n\n- **Mercado de trabalho**:\n  ‚Ä¢ Identifica√ß√£o de profiss√µes que valorizem habilidades autistas (aten√ß√£o a detalhes, padr√µes)\n  ‚Ä¢ Programas de mentoria e onboarding adaptado\n  ‚Ä¢ Flexibiliza√ß√£o de ambientes corporativos (hor√°rios, est√≠mulos sensoriais)\n\n- **Legisla√ß√£o**:\n  ‚Ä¢ Lei Berenice Piana (12.764/12) garante direitos como diagn√≥stico precoce e educa√ß√£o especializada\n  ‚Ä¢ Necessidade de fiscaliza√ß√£o para efetividade das pol√≠ticas p√∫blicas",

        "Desafios e estrat√©gias para socializa√ß√£o no TEA:\n\n- **Crian√ßas**:\n  ‚Ä¢ Grupos de habilidades sociais com pares neurodivergentes\n  ‚Ä¢ Media√ß√£o profissional para intera√ß√µes l√∫dicas\n  ‚Ä¢ Preven√ß√£o ao bullying com programas escolares espec√≠ficos\n\n- **Adultos**:\n  ‚Ä¢ Comunidades online seguras para autistas\n  ‚Ä¢ Grupos de interesse compartilhado (evitando for√ßar intera√ß√µes convencionais)\n  ‚Ä¢ Treino de autonomia para situa√ß√µes cotidianas (transporte, servi√ßos)\n\n- **Dados cr√≠ticos**:\n  ‚Ä¢ 85% de autistas adultos est√£o desempregados (dados internacionais)\n  ‚Ä¢ Acesso √† vida independente requer apoio cont√≠nuo, n√£o s√≥ na inf√¢ncia",

        "Tecnologias e inova√ß√µes para inclus√£o:\n\n- **Ferramentas**:\n  ‚Ä¢ Apps para comunica√ß√£o alternativa (como Proloquo2Go)\n  ‚Ä¢ Sensores vest√≠veis para antecipar crises de ansiedade\n  ‚Ä¢ Realidade virtual para treino de situa√ß√µes sociais\n\n- **Princ√≠pios fundamentais**:\n  ‚Ä¢ Nada sobre n√≥s sem n√≥s: participa√ß√£o autista no desenho de pol√≠ticas\n  ‚Ä¢ Acessibilidade cognitiva como direito humano (sinaliza√ß√£o clara, linguagem simples)\n  ‚Ä¢ Neurodiversidade como valor social, n√£o como 'problema a resolver'\n\n- **Recursos**:\n  ‚Ä¢ Cursos de capacita√ß√£o para empregadores\n  ‚Ä¢ Oficinas de vida independente para adultos no espectro\n  ‚Ä¢ Parcerias entre escolas, empresas e servi√ßos de sa√∫de"
    ]
}, 
diagnostico_tea: {
    keywords: [
        'diagn√≥stico de autismo', 'avalia√ß√£o tea', 'crit√©rios diagn√≥sticos autismo', 
        'processo diagn√≥stico tea', 'instrumentos avalia√ß√£o autismo', 'diagn√≥stico precoce', 
        'diagn√≥stico adulto autismo', 'multidisciplinar tea', 'triagem autismo', 
        'm-chat', 'ados-2', 'cid-11 autismo', 'dsm-5 autismo', 'diferenciar tea', 
        'diagn√≥stico diferencial autismo', 'avalia√ß√£o neuropsicol√≥gica tea'
    ],
    responses: [
        "O processo diagn√≥stico do TEA √© multidisciplinar e baseado em crit√©rios internacionais:\n\n- **Crit√©rios oficiais (DSM-5/CID-11)**:\n  ‚Ä¢ D√©ficits persistentes na comunica√ß√£o social\n  ‚Ä¢ Padr√µes restritos/repetitivos de comportamento\n  ‚Ä¢ Sintomas desde a inf√¢ncia (podendo se manifestar plenamente s√≥ com demandas sociais aumentadas)\n\n- **Instrumentos padronizados**:\n  ‚Ä¢ ADOS-2 (padr√£o-ouro para observa√ß√£o)\n  ‚Ä¢ ADI-R (entrevista com cuidadores)\n  ‚Ä¢ M-CHAT/R para triagem precoce (18-24 meses)\n\n- **Equipe m√≠nima**:\n  ‚Ä¢ Neuropediatra/psiquiatra\n  ‚Ä¢ Psic√≥logo especializado\n  ‚Ä¢ Fonoaudi√≥logo (avalia√ß√£o comunicacional)",

        "Desafios no diagn√≥stico:\n\n- **Em crian√ßas**:\n  ‚Ä¢ Identifica√ß√£o precoce (antes dos 3 anos) melhora progn√≥stico\n  ‚Ä¢ Sinais de alerta: aus√™ncia de sorriso social aos 6m, n√£o apontar aos 12m, perda de habilidades\n  ‚Ä¢ Diferencia√ß√£o de atrasos globais de desenvolvimento\n\n- **Em adultos**:\n  ‚Ä¢ 'Autismo mascarado' pode dificultar identifica√ß√£o\n  ‚Ä¢ Reconstru√ß√£o hist√≥ria desenvolvimental √© crucial\n  ‚Ä¢ Comorbidades frequentes (ansiedade, depress√£o) podem mascarar o TEA\n\n- **Dados importantes**:\n  ‚Ä¢ M√©dia de diagn√≥stico: 4-5 anos (mas pode ocorrer na vida adulta)\n  ‚Ä¢ Meninas recebem diagn√≥stico em m√©dia 1.5 anos depois que meninos",

        "O que esperar do processo diagn√≥stico:\n\n1. **Etapas**:\n  ‚Ä¢ Anamnese detalhada (hist√≥rico gestacional a desenvolvimento atual)\n  ‚Ä¢ Observa√ß√£o comportamental estruturada\n  ‚Ä¢ Avalia√ß√£o cognitiva e de linguagem\n  ‚Ä¢ Exames para diagn√≥stico diferencial (ex.: gen√©ticos, neurol√≥gicos)\n\n2. **P√≥s-diagn√≥stico**:\n  ‚Ä¢ Encaminhamento para interven√ß√µes precoces\n  ‚Ä¢ Orienta√ß√£o familiar sobre direitos (Lei Berenice Piana)\n  ‚Ä¢ Planejamento de suporte educacional\n\n3. **Armadilhas comuns**:\n  ‚Ä¢ Diagn√≥sticos parciais (s√≥ considerar TDAH ou s√≥ ansiedade)\n  ‚Ä¢ Profissionais n√£o especializados subestimando tra√ßos\n  ‚Ä¢ Familiares recebendo explica√ß√µes vagas ('ele vai no tempo dele')"
    ]
},
 autismo_feminino: {
    keywords: [
        'autismo em mulheres', 'autismo feminino', 'meninas no espectro', 
        'caracter√≠sticas autismo mulheres', 'diagn√≥stico tardio mulheres', 
        'mascaramento autismo feminino', 'camuflagem social autismo', 
        'autismo e g√™nero', 'vi√©s de g√™nero no diagn√≥stico', 'mulheres autistas adultas',
        'TEA em meninas', 'sinais sutis autismo feminino', 'asperger feminino',
        'dificuldades espec√≠ficas mulheres autistas'
    ],
    responses: [
        "O autismo feminino apresenta particularidades que frequentemente levam a subdiagn√≥stico:\n\n- **Manifesta√ß√µes at√≠picas**:\n  ‚Ä¢ Interesses restritos podem ser socialmente aceitos (cavalos, literatura, celebridades)\n  ‚Ä¢ Maior capacidade de mimetizar comportamentos neurot√≠picos (camuflagem social)\n  ‚Ä¢ Esgotamento frequente por esfor√ßo constante de 'performar' normalidade\n\n- **Desafios espec√≠ficos**:\n  ‚Ä¢ Dificuldades interpretando nuances sociais femininas (sororidade, hierarquias grupais)\n  ‚Ä¢ Vulnerabilidade aumentada a rela√ß√µes abusivas (dificuldade em perceber inten√ß√µes alheias)\n  ‚Ä¢ Crises internalizadas (ansiedade, depress√£o, dist√∫rbios alimentares)\n\n- **Dados alarmantes**:\n  ‚Ä¢ Propor√ß√£o diagn√≥stica: 4 homens para 1 mulher (mas estima-se subnotifica√ß√£o)\n  ‚Ä¢ Idade m√©dia do diagn√≥stico feminino: 35 anos (vs 29 em homens)",

        "Por que o vi√©s de g√™nero persiste no diagn√≥stico:\n\n- **Crit√©rios baseados em meninos**:\n  ‚Ä¢ Sintomas externalizantes (agita√ß√£o, comportamentos √≥bvios) s√£o mais vis√≠veis\n  ‚Ä¢ Meninas desenvolvem estrat√©gias de compensa√ß√£o mais sofisticadas\n\n- **Sinais sutis em meninas**:\n  ‚Ä¢ Amizades intensas mas desastradas (obsess√£o por uma pessoa espec√≠fica)\n  ‚Ä¢ Di√°rios detalhados como forma de processar experi√™ncias sociais\n  ‚Ä¢ Hiperfocos em temas socialmente valorizados (medicina, veterin√°ria)\n\n- **Consequ√™ncias do diagn√≥stico tardio**:\n  ‚Ä¢ Anos de autopercep√ß√£o como 'defeituosa' ou 'fracassada'\n  ‚Ä¢ Tratamentos inadequados para supostas 'dramatiza√ß√µes'\n  ‚Ä¢ Crises de identidade ao descobrir o TEA na vida adulta",

        "Abordagens para melhor identifica√ß√£o:\n\n- **Instrumentos adaptados**:\n  ‚Ä¢ Question√°rios que consideram camuflagem (CAT-Q)\n  ‚Ä¢ Entrevistas focadas em experi√™ncias internas (n√£o s√≥ comportamentos observ√°veis)\n\n- **Sinais de alerta**:\n  ‚Ä¢ Exaust√£o p√≥s-eventos sociais (necessidade de dias para recuperar)\n  ‚Ä¢ Dificuldade com gest√£o dom√©stica (sobrecarga sensorial em tarefas cotidianas)\n  ‚Ä¢ Hist√≥rico de 'burnouts' inexplicados\n\n- **Suporte p√≥s-diagn√≥stico**:\n  ‚Ä¢ Grupos espec√≠ficos para mulheres autistas\n  ‚Ä¢ Terapia focada em desconstruir a m√°scara social\n  ‚Ä¢ Estrat√©gias para economizar energia cognitiva no dia a dia\n\n- **Estat√≠sticas recentes**:\n  ‚Ä¢ 80% das mulheres autistas recebem primeiro outro diagn√≥stico (TDAH, borderline, ansiedade)\n  ‚Ä¢ Risco 3x maior de suic√≠dio comparado a mulheres neurot√≠picas"
    ]
},
autismo: {
    keywords: ['autismo', 'tea', 'transtorno do espectro autista', 'espectro autista', 'transtorno autista', 'condi√ß√£o do espectro autista', 'asperger', 'transtorno global do desenvolvimento', 'neurodivergente', 'neurodiversidade'],
    responses: [
        "O Transtorno do Espectro Autista (TEA) √© uma condi√ß√£o neurol√≥gica que afeta a comunica√ß√£o, intera√ß√£o social e comportamentos. Ele √© chamado de 'espectro' porque engloba uma grande variedade de caracter√≠sticas e n√≠veis de suporte necess√°rios. Algumas pessoas podem ter desafios significativos, enquanto outras podem ser altamente funcionais. O diagn√≥stico precoce e interven√ß√µes especializadas (como terapia ocupacional, fonoaudiologia e ABA) podem fazer uma grande diferen√ßa na qualidade de vida. üíô",

        "O Autismo (TEA) √© parte da neurodiversidade, ou seja, uma varia√ß√£o natural do c√©rebro humano. Pessoas no espectro podem ter sensibilidades sensoriais (como a luz, som ou texturas), interesses intensos e formas √∫nicas de processar informa√ß√µes. A inclus√£o e o respeito s√£o essenciais! Se quiser saber mais sobre estrat√©gias de apoio ou caracter√≠sticas espec√≠ficas, √© s√≥ perguntar. üåü",

        "O termo 'Asperger' j√° foi usado para descrever pessoas no espectro autista com alto funcionamento, mas hoje est√° inclu√≠do no TEA. Pessoas autistas podem ter talentos incr√≠veis em √°reas espec√≠ficas, como mem√≥ria, arte ou l√≥gica. A conscientiza√ß√£o e a aceita√ß√£o s√£o fundamentais para construir uma sociedade mais inclusiva. Se tiver d√∫vidas sobre direitos, terapias ou como apoiar algu√©m com autismo, conte comigo! üí°"
    ]
},

        };

        // Fun√ß√£o principal para gerar respostas
        function generateResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Verificar viola√ß√£o antes de processar
            if (detectViolation(message)) {
                blockChat();
                return "‚ö†Ô∏è **Viola√ß√£o das Diretrizes Detectada**\n\nSeu chat foi temporariamente bloqueado por 5 minutos devido ao uso de linguagem inadequada ou ofensiva. O Mentes Brilhantes mant√©m ambiente respeitoso e acolhedor para todas as fam√≠lias e pessoas que buscam apoio especializado em TEA.\n\nüîí **Pol√≠tica de Uso:**\n‚Ä¢ Linguagem respeitosa e construtiva\n‚Ä¢ Foco em quest√µes relacionadas ao TEA\n‚Ä¢ Ambiente seguro para todos os usu√°rios\n‚Ä¢ Toler√¢ncia zero com ofensas ou palavr√µes\n\nAguarde a reativa√ß√£o autom√°tica do chat para continuar recebendo orienta√ß√µes especializadas. Obrigada pela compreens√£o.";
            }

            // Processar respostas normais
            for (const [category, data] of Object.entries(teaKnowledge)) {
                for (const keyword of data.keywords) {
                    if (lowerMessage.includes(keyword)) {
                        const randomResponse = data.responses[Math.floor(Math.random() * data.responses.length)];
                        return randomResponse;
                    }
                }
            }

            // Verificar perguntas espec√≠ficas sobre Mentes Brilhantes
            if (lowerMessage.includes('mentes brilhantes') && !lowerMessage.includes('aplicativo')) {
                return "üåü **Mentes Brilhantes - Transformando Vidas no Espectro Autista**\n\nüíô Somos organiza√ß√£o dedicada ao desenvolvimento integral de pessoas com Transtorno do Espectro Autista, suas fam√≠lias e comunidades de apoio. Nossa miss√£o √© promover inclus√£o social efetiva, desenvolver tecnologias assistivas especializadas, capacitar fam√≠lias e profissionais da √°rea, criar redes de apoio estruturadas e qualificadas, al√©m de difundir conhecimento cient√≠fico atualizado sobre TEA. Acreditamos que cada pessoa no espectro autista possui potencial √∫nico e merece oportunidades de desenvolvimento pleno. Trabalhamos com metodologias validadas cientificamente, sempre priorizando dignidade, respeito e individualidade. Nosso impacto social inclui mais de 50.000 fam√≠lias atendidas, rede de 500+ profissionais capacitados, tecnologia acess√≠vel e gratuita, al√©m de pesquisa cont√≠nua em neuroci√™ncia aplicada. Juntos, constru√≠mos mundo mais inclusivo e acolhedor para toda a comunidade TEA! Nossa abordagem integra suporte familiar, orienta√ß√£o profissional, recursos tecnol√≥gicos avan√ßados e advocacy social para garantir direitos e oportunidades equitativas.";
            }

            // Respostas para d√∫vidas gerais ou temas n√£o espec√≠ficos
            const defaultResponses = [
                "üíô Agrade√ßo sua pergunta e reconhe√ßo a import√¢ncia do tema abordado. Como assistente especializada em TEA, ofere√ßo orienta√ß√µes mais precisas em √°reas espec√≠ficas do espectro autista. Posso fornecer suporte detalhado em estrutura√ß√£o de rotinas visuais personalizadas, desenvolvimento de estrat√©gias comunicacionais eficazes, t√©cnicas de regula√ß√£o sensorial baseadas em evid√™ncias, atividades de estimula√ß√£o cognitiva apropriadas, manejo comportamental positivo, apoio sist√™mico para fam√≠lias e cuidadores, orienta√ß√µes para inclus√£o educacional, al√©m de informa√ß√µes sobre recursos tecnol√≥gicos especializados. Minha base de conhecimento √© constantemente atualizada com pesquisas cient√≠ficas atuais, metodologias terap√™uticas validadas e pr√°ticas recomendadas por organiza√ß√µes internacionais especializadas em TEA. Como posso redirecionar nossa conversa para oferecer orienta√ß√£o mais espec√≠fica e √∫til dentro de minha √°rea de expertise? üåü",
                
                "üåü Compreendo seu interesse e valorizo a oportunidade de contribuir com informa√ß√µes relevantes. Para oferecer orienta√ß√£o mais precisa e personalizada, gostaria de entender melhor o contexto de sua consulta. Refere-se a situa√ß√£o espec√≠fica envolvendo pessoa com TEA? Qual faixa et√°ria e n√≠vel de suporte necess√°rio? Trata-se de quest√£o relacionada ao cotidiano familiar, ambiente educacional ou desenvolvimento de habilidades espec√≠ficas? Minha expertise √© mais eficaz quando focada em temas como desenvolvimento de autonomia funcional, estrat√©gias de inclus√£o social, t√©cnicas de comunica√ß√£o alternativa, manejo de quest√µes sensoriais, atividades terap√™uticas estruturadas e apoio para transi√ß√µes de vida. Compartilhe mais detalhes para que eu possa oferecer orienta√ß√µes verdadeiramente √∫teis e baseadas em evid√™ncias cient√≠ficas atualizadas! üíô",
                
                "üí° Sua curiosidade demonstra engajamento genu√≠no com quest√µes importantes. Embora minha especializa√ß√£o seja direcionada especificamente para Transtorno do Espectro Autista, sempre busco contribuir de forma construtiva e informativa. Se sua consulta relaciona-se com desenvolvimento de habilidades sociais, t√©cnicas de autorregula√ß√£o emocional, estrat√©gias de aprendizagem diferenciadas, cria√ß√£o de ambientes sensorialmente apropriados, implementa√ß√£o de tecnologias assistivas, orienta√ß√£o para advocacy e direitos, ou qualquer aspecto do universo TEA, posso fornecer diretrizes espec√≠ficas e atualizadas. Caso contr√°rio, recomendo consulta com profissionais especializados na √°rea correspondente. Nossa plataforma Mentes Brilhantes tamb√©m oferece rede de profissionais qualificados para referenciamento quando necess√°rio. Como posso melhor direcionar meu suporte para atender suas necessidades espec√≠ficas? üåü",
                
                "ü§î Percebo que sua pergunta pode requerer abordagem mais ampla do que minha especializa√ß√£o em TEA permite oferecer com total precis√£o. Para garantir que voc√™ receba informa√ß√µes verdadeiramente √∫teis e confi√°veis, prefiro ser transparente sobre os limites de minha expertise. Meu conhecimento √© profundamente focado em quest√µes relacionadas ao espectro autista: caracter√≠sticas neurol√≥gicas, desenvolvimento cognitivo e social, estrat√©gias terap√™uticas, apoio familiar, inclus√£o educacional e recursos tecnol√≥gicos especializados. Se puder reformular sua consulta conectando-a com aspectos do TEA, ficarei muito feliz em oferecer orienta√ß√µes detalhadas e baseadas em evid√™ncias cient√≠ficas. Caso contr√°rio, recomendo buscar profissionais especializados na √°rea espec√≠fica de seu interesse. Lembre-se de que nossa comunidade Mentes Brilhantes conta com rede ampla de especialistas para diversos tipos de suporte! üíô"
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // Fun√ß√£o para extrair as primeiras palavras de uma mensagem
        function extractChatTitle(message) {
            // Remove emojis, formata√ß√£o e caracteres especiais
            const cleanMessage = message
                .replace(/[üíôüåüüí°üéØ‚ú®üßò‚Äç‚ôÄÔ∏èüó£Ô∏èüí¨ü§ùüë®‚Äçüë©‚Äçüëß‚Äçüë¶üè†üéÆüß†üî¢üé®üìÖüìãüîäü§≤‚ö°üõ°Ô∏èüåàüíùüìöüéØüí™ü§î]/g, '')
                .replace(/\*\*(.*?)\*\*/g, '$1')
                .replace(/\*(.*?)\*/g, '$1')
                .replace(/[‚Ä¢\n]/g, ' ')
                .replace(/\s+/g, ' ')
                .trim();
            
            // Pega as primeiras 3-4 palavras
            const words = cleanMessage.split(' ').slice(0, 4);
            let title = words.join(' ');
            
            // Limita o tamanho m√°ximo
            if (title.length > 25) {
                title = title.substring(0, 22) + '...';
            }
            
            return title || `Chat ${chatCounter}`;
        }

        // Fun√ß√£o para atualizar o nome da aba
        function updateChatTitle(chatId, aiResponse) {
            const chatTab = document.querySelector(`[data-chat-id="${chatId}"]`);
            if (chatTab) {
                const titleSpan = chatTab.querySelector('span:last-child');
                const newTitle = extractChatTitle(aiResponse);
                
                chats[chatId].name = newTitle;
                titleSpan.textContent = newTitle;
            }
        }

        // Fun√ß√£o para criar novo chat
        function createNewChat() {
            chatCounter++;
            const newChatId = chatCounter;
            
            // Criar novo chat
            chats[newChatId] = {
                id: newChatId,
                name: `Chat ${newChatId}`,
                messages: [],
                isActive: false,
                isBlocked: false
            };
            
            // Adicionar aba na sidebar
            const chatHistory = document.getElementById('chatHistory');
            const newTab = document.createElement('div');
            newTab.className = 'chat-tab';
            newTab.setAttribute('data-chat-id', newChatId);
            newTab.innerHTML = `
                <span class="chat-tab-icon">üí¨</span>
                <span>Chat ${newChatId}</span>
            `;
            newTab.addEventListener('click', () => switchToChat(newChatId));
            chatHistory.appendChild(newTab);
            
            // Mudar para o novo chat
            switchToChat(newChatId);
            
            // Fechar sidebar no mobile
            if (window.innerWidth <= 768) {
                closeSidebar();
            }
        }

        // Fun√ß√£o para mudar entre chats
        function switchToChat(chatId) {
            // Remover ativo de todas as abas
            document.querySelectorAll('.chat-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ativar aba atual
            const activeTab = document.querySelector(`[data-chat-id="${chatId}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
            }
            
            // Salvar mensagens do chat atual antes de mudar
            if (chats[currentChatId]) {
                chats[currentChatId].messages = getCurrentMessages();
            }
            
            // Mudar chat atual
            currentChatId = chatId;
            chats[currentChatId].isActive = true;
            
            // Verificar se o chat est√° bloqueado e atualizar interface
            if (chats[currentChatId].isBlocked) {
                blockChat(0); // N√£o inicia novo timeout, apenas atualiza interface
            } else {
                unblockChat();
            }
            
            // Carregar mensagens do novo chat
            loadChatMessages(chatId);
        }

        // Fun√ß√£o para obter mensagens atuais
        function getCurrentMessages() {
            const messages = [];
            const messageElements = document.querySelectorAll('.message');
            
            messageElements.forEach(element => {
                const isUser = element.classList.contains('user');
                const contentElement = element.querySelector('.message-content');
                const timestampElement = element.querySelector('.message-timestamp');
                
                if (contentElement) {
                    const content = contentElement.innerHTML;
                    const timestamp = timestampElement ? timestampElement.textContent : getCurrentTime();
                    
                    messages.push({
                        sender: isUser ? 'user' : 'ai',
                        content: content.replace(/<br>/g, '\n').replace(/<[^>]*>/g, '').trim(),
                        timestamp: timestamp
                    });
                }
            });
            
            return messages;
        }

        // Fun√ß√£o para carregar mensagens do chat
        function loadChatMessages(chatId) {
            const messagesContainer = document.getElementById('chatMessages');
            const chat = chats[chatId];
            
            if (chat.messages.length === 0) {
                // Mostrar mensagem de boas-vindas
                messagesContainer.innerHTML = `
                    <div class="welcome-message">
                        <h2>Ol√°! Eu sou a Luna</h2>
                        <p>Sua assistente virtual do Mentes Brilhantes especializada em apoio a pessoas com Transtorno do Espectro Autista (TEA), familiares e cuidadores. Ofere√ßo suporte personalizado, informa√ß√µes fundamentadas e aux√≠lio na organiza√ß√£o de rotinas estruturadas.</p>
                        
                        <div class="quick-actions">
                            <button class="quick-action-btn" onclick="sendQuickMessage('Como posso criar uma rotina visual para meu filho?')">
                                üìÖ Rotinas Visuais Estruturadas
                            </button>
                            <button class="quick-action-btn" onclick="sendQuickMessage('Preciso de estrat√©gias para comunica√ß√£o com TEA')">
                                üí¨ Estrat√©gias de Comunica√ß√£o
                            </button>
                            <button class="quick-action-btn" onclick="sendQuickMessage('Como lidar com crises sensoriais?')">
                                üßò‚Äç‚ôÄÔ∏è Regula√ß√£o Sensorial
                            </button>
                            <button class="quick-action-btn" onclick="sendQuickMessage('Atividades cognitivas para TEA')">
                                üéØ Atividades Cognitivas
                            </button>
                            <button class="quick-action-btn" onclick="sendQuickMessage('Mentes Brilhantes')">
                                üåü Mentes Brilhantes
                            </button>
                            <button class="quick-action-btn" onclick="sendQuickMessage('Aplicativo')">
                                üì± Aplicativo
                            </button>
                        </div>
                    </div>
                `;
            } else {
                // Carregar mensagens existentes
                messagesContainer.innerHTML = '';
                chat.messages.forEach(message => {
                    addMessageToDOM(message.content, message.sender, false, message.timestamp);
                });
            }
        }

        // Fun√ß√µes globais para sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('show');
        }

        function closeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            sidebar.classList.remove('open');
            overlay.classList.remove('show');
        }

        function sendQuickMessage(message) {
            if (!isProcessing && messageInput && !chats[currentChatId].isBlocked) {
                messageInput.value = message;
                sendMessage();
            }
        }

        // Fun√ß√£o principal para enviar mensagem
        function sendMessage() {
            const message = messageInput.value.trim();
            
            if (!message || isProcessing || chats[currentChatId].isBlocked) return;

            isProcessing = true;
            sendButton.disabled = true;

            // Hide welcome message
            const welcomeMessage = document.querySelector('.welcome-message');
            if (welcomeMessage) {
                welcomeMessage.style.display = 'none';
            }

            const timestamp = getCurrentTime();

            // Add user message
            addMessageToDOM(message, 'user', true, timestamp);
            chats[currentChatId].messages.push({ sender: 'user', content: message, timestamp: timestamp });
            
            messageInput.value = '';
            messageInput.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response delay
            setTimeout(() => {
                hideTypingIndicator();
                const response = generateResponse(message);
                const responseTimestamp = getCurrentTime();
                
                // Check if response is a violation message
                if (response.includes('Viola√ß√£o das Diretrizes Detectada')) {
                    addMessageToDOM(response, 'ai', true, responseTimestamp, true);
                } else {
                    addMessageToDOM(response, 'ai', true, responseTimestamp);
                }
                
                chats[currentChatId].messages.push({ sender: 'ai', content: response, timestamp: responseTimestamp });
                
                // Atualizar o nome da aba com as primeiras palavras da resposta da IA
                // apenas se for a primeira resposta no chat
                if (chats[currentChatId].messages.length === 2 && !response.includes('Viola√ß√£o das Diretrizes Detectada')) {
                    updateChatTitle(currentChatId, response);
                }
                
                // Re-enable input after response (only if not blocked)
                if (!chats[currentChatId].isBlocked) {
                    isProcessing = false;
                    sendButton.disabled = false;
                    messageInput.focus();
                } else {
                    isProcessing = false;
                }
            }, 1500 + Math.random() * 1000);
        }

        function addMessageToDOM(content, sender, animate = false, timestamp = null, isViolation = false) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            if (!animate) {
                messageDiv.style.animation = 'none';
            }

            const messageTimestamp = timestamp || getCurrentTime();

            if (sender === 'ai') {
                const violationClass = isViolation ? ' violation' : '';
                messageDiv.innerHTML = `
                    <div class="ai-mini-avatar">
                <img src="../img/luna.png" alt="Avatar">
                </div>
                    <div class="message-wrapper">
                        <div class="message-content${violationClass}">${formatMessage(content)}</div>
                        <div class="message-timestamp">${messageTimestamp}</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="message-wrapper">
                        <div class="message-content">${formatMessage(content)}</div>
                        <div class="message-timestamp">${messageTimestamp}</div>
                    </div>
                    <div class="user-avatar">U</div>
                `;
            }

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function formatMessage(message) {
            // Enhanced markdown-like formatting
            return message
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/\n/g, '<br>');
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="ai-mini-avatar">
                <img src="../img/luna.png" alt="Avatar">
                </div>
                <div class="typing-indicator" style="display: block;">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Initialize quando DOM carregar
        document.addEventListener('DOMContentLoaded', function() {
            messageInput = document.getElementById('messageInput');
            sendButton = document.getElementById('sendButton');
            
            // Auto-resize textarea
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });

            // Send message on Enter (but allow Shift+Enter for new line)
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    if (!isProcessing && !chats[currentChatId].isBlocked) {
                        sendMessage();
                    }
                }
            });

            // Send button click handler
            sendButton.addEventListener('click', function(e) {
                e.preventDefault();
                if (!isProcessing && !chats[currentChatId].isBlocked) {
                    sendMessage();
                }
            });
            
            messageInput.focus();
            
            // Adicionar event listeners para as abas existentes
            document.querySelectorAll('.chat-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const chatId = parseInt(tab.getAttribute('data-chat-id'));
                    switchToChat(chatId);
                });
            });
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(e) {
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const toggle = document.querySelector('.sidebar-toggle');
                
                if (!sidebar.contains(e.target) && !toggle.contains(e.target) && sidebar.classList.contains('open')) {
                    closeSidebar();
                }
            }
        });

        // Make functions globally available
        window.sendQuickMessage = sendQuickMessage;
        window.toggleSidebar = toggleSidebar;
        window.closeSidebar = closeSidebar;
        window.createNewChat = createNewChat;
    </script>
</body>
</html>