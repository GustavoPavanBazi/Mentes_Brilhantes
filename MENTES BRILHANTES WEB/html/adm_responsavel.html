<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mentes Brilhantes</title>
    <link rel="stylesheet" href="../css/adm_responsavel.css">
    <link rel="icon" type="image/x-icon" href="../img/LogoMB.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Tutorial de 5 Etapas -->
    <div id="tutorial-overlay" class="tutorial-overlay active">
        <div class="tutorial-backdrop"></div>
        
        <div class="tutorial-content">
            <div class="tutorial-progress">
                <div class="tutorial-progress-bar">
                    <div class="tutorial-progress-fill" id="tutorial-progress"></div>
                </div>
                <span class="tutorial-step-counter" id="step-counter">1 / 5</span>
            </div>
    
    
            <!-- Etapa 1 -->
            <div class="tutorial-step active" data-step="1">
                <div class="tutorial-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h2 class="tutorial-title">Bem-vindo!</h2>
                <p class="tutorial-description">
                    Vamos fazer um tour rápido pelas principais funcionalidades para você aproveitar ao máximo a plataforma. 
                    Este guia vai mostrar como utilizar cada recurso disponível de forma simples e direta.
                </p>
                <div class="tutorial-info-box">
                    <i class="fas fa-info-circle"></i>
                    <p>Este tutorial pode ser acessado novamente a qualquer momento através do menu de ajuda.</p>
                </div>
                <div class="tutorial-actions">
                    <button class="btn btn-primary" onclick="nextStep()">
                        Começar
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
    
    
            <!-- Etapa 2 -->
            <div class="tutorial-step" data-step="2">
                <div class="tutorial-icon">
                    <i class="fas fa-bars"></i>
                </div>
                <h2 class="tutorial-title">Menu de Navegação</h2>
                <p class="tutorial-description">
                    Use o menu lateral para navegar entre as diferentes seções do sistema. Cada seção está claramente 
                    identificada com ícones e nomes descritivos para facilitar sua localização.
                </p>
                <div class="tutorial-features-list">
                    <div class="tutorial-feature-item">
                        <i class="fas fa-home"></i>
                        <span><strong>Dashboard:</strong> Visão geral das informações</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-user-doctor"></i>
                        <span><strong>Especialistas:</strong> Equipe de profissionais</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-file-lines"></i>
                        <span><strong>Relatórios:</strong> Acompanhamento detalhado</span>
                    </div>
                </div>
                <div class="tutorial-actions">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        <i class="fas fa-arrow-left"></i>
                        Voltar
                    </button>
                    <button class="btn btn-primary" onclick="nextStep()">
                        Próximo
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
    
    
            <!-- Etapa 3 -->
            <div class="tutorial-step" data-step="3">
                <div class="tutorial-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h2 class="tutorial-title">Assistente Luna</h2>
                <p class="tutorial-description">
                    A Luna é sua assistente virtual especializada em TEA. Ela foi desenvolvida para oferecer suporte 
                    personalizado, responder dúvidas e auxiliar no acompanhamento diário.
                </p>
                <div class="tutorial-features-list">
                    <div class="tutorial-feature-item">
                        <i class="fas fa-comments"></i>
                        <span><strong>Conversação Natural:</strong> Faça perguntas em linguagem simples</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-lightbulb"></i>
                        <span><strong>Orientações:</strong> Receba dicas e sugestões personalizadas</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-calendar-check"></i>
                        <span><strong>Lembretes:</strong> Organize sua rotina e compromissos</span>
                    </div>
                </div>
                <div class="tutorial-actions">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        <i class="fas fa-arrow-left"></i>
                        Voltar
                    </button>
                    <button class="btn btn-primary" onclick="nextStep()">
                        Próximo
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
    
    
            <!-- Etapa 4 -->
            <div class="tutorial-step" data-step="4">
                <div class="tutorial-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h2 class="tutorial-title">Acompanhamento de Progresso</h2>
                <p class="tutorial-description">
                    Visualize gráficos, estatísticas e relatórios detalhados sobre o desenvolvimento e atividades realizadas.
                </p>
                <div class="tutorial-features-list">
                    <div class="tutorial-feature-item">
                        <i class="fas fa-chart-bar"></i>
                        <span><strong>Gráficos Visuais:</strong> Dados apresentados de forma intuitiva</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-calendar-days"></i>
                        <span><strong>Histórico:</strong> Acompanhe a evolução ao longo do tempo</span>
                    </div>
                    <div class="tutorial-feature-item">
                        <i class="fas fa-download"></i>
                        <span><strong>Exportação:</strong> Baixe relatórios em PDF</span>
                    </div>
                </div>
                <div class="tutorial-actions">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        <i class="fas fa-arrow-left"></i>
                        Voltar
                    </button>
                    <button class="btn btn-primary" onclick="nextStep()">
                        Próximo
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
    
    
            <!-- Etapa 5 -->
            <div class="tutorial-step" data-step="5">
                <div class="tutorial-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2 class="tutorial-title">Pronto para Começar!</h2>
                <p class="tutorial-description">
                    Agora você está pronta para explorar todas as funcionalidades da plataforma. Para continuar, 
                    é necessário aceitar os Termos de Uso e a Política de Privacidade.
                </p>
                <div class="tutorial-info-box">
                    <i class="fas fa-shield-halved"></i>
                    <p>Seus dados são protegidos de acordo com a Lei Geral de Proteção de Dados (LGPD).</p>
                </div>
                
                <!-- Checkbox de Termos de Uso -->
                <div class="tutorial-terms">
                    <label class="tutorial-checkbox-container">
                        <input type="checkbox" id="terms-checkbox" onchange="toggleFinishButton()">
                        <span class="tutorial-checkmark"></span>
                        <span class="tutorial-checkbox-label">
                            Li e aceito os 
                            <a href="termos-de-uso.html" target="_blank" class="tutorial-link">Termos de Uso</a> 
                            e a 
                            <a href="politica-privacidade.html" target="_blank" class="tutorial-link">Política de Privacidade</a>
                        </span>
                    </label>
                </div>
                
                <div class="tutorial-actions">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        <i class="fas fa-arrow-left"></i>
                        Voltar
                    </button>
                    <button class="btn btn-primary" id="finish-btn" onclick="closeTutorial()" disabled>
                        Finalizar
                        <i class="fas fa-check"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <header class="header">
        <div class="header-container">
            <div class="logo-section">
                <img src="../img/LogoMB.png" alt="Logo" style="width: 32px; height: 32px;">
                <span>Mentes Brilhantes</span>
            </div>
            <nav class="header-nav">
                <div class="user-profile">
                    <div class="user-avatar" id="header-avatar">M</div>
                    <div class="user-info">
                        <h4 id="header-nome">Carregando...</h4>
                        <p>Responsável</p>
                    </div>
                </div>
                <button onclick="fazerLogout()" class="btn btn-outline" style="margin-left: 1rem;">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Layout Principal -->
    <div class="main-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav>
                <div class="nav-section">
                    <h3 class="nav-title">Menu Principal</h3>
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-section="perfil">
                        <i class="fas fa-user"></i>
                        <span>Meu Perfil</span>
                    </a>
                    <a href="#" class="nav-item" data-section="luna">
                        <i class="fas fa-robot"></i>
                        <span>Assistente Luna</span>
                    </a>
                    
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Área do Neurodivergente</h3>
                    <a href="#" class="nav-item" data-section="perfil-autista1">
                        <i class="fas fa-child"></i>
                        <span>Perfil do Autista</span>
                    </a>
                    <a href="#" class="nav-item" data-section="perfil-autista">
                        <i class="fas fa-brain"></i>
                        <span>Perfil Sensorial</span>
                    </a>
                    
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Acompanhamento</h3>
                    <a href="#" class="nav-item" data-section="progresso">
                        <i class="fas fa-chart-line"></i>
                        <span>Progresso</span>
                    </a>
                    <a href="#" class="nav-item" data-section="especialistas">
                        <i class="fas fa-user-md"></i>
                        <span>Especialistas</span>
                    </a>
                    <a href="#" class="nav-item" data-section="relatorios">
                        <i class="fas fa-file-alt"></i>
                        <span>Relatórios</span>
                    </a>
                </div>

                <div class="nav-section">
                    <h3 class="nav-title">Suporte</h3>
                    <a href="#" class="nav-item" data-section="recursos">
                        <i class="fas fa-book"></i>
                        <span>Recursos & Suporte</span>
                    </a>
                    <a href="#" class="nav-item" data-section="configuracoes">
                        <i class="fas fa-cog"></i>
                        <span>Configurações</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="section active">
                <div class="page-header">
                    <h1 class="page-title" id="dashboard-boas-vindas">Bem-vinda</h1>
                    <p class="page-subtitle">Acompanhe o desenvolvimento e progresso do João</p>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Sessões Realizadas</span>
                            <div class="stat-icon primary">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                        </div>
                        <div class="stat-number">42</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% este mês</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Marcos Alcançados</span>
                            <div class="stat-icon success">
                                <i class="fas fa-trophy"></i>
                            </div>
                        </div>
                        <div class="stat-number">15</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>3 novos</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Próximas Consultas</span>
                            <div class="stat-icon warning">
                                <i class="fas fa-clock"></i>
                            </div>
                        </div>
                        <div class="stat-number">3</div>
                        <div class="stat-change">
                            <i class="fas fa-calendar"></i>
                            <span>Próxima em 2 dias</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">Dias Ativos</span>
                            <div class="stat-icon secondary">
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <div class="stat-number">89</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>Sequência atual</span>
                        </div>
                    </div>
                </div>

                <!-- Content Grid -->
                <div class="content-grid">
                    <!-- Main Panel -->
                    <div class="main-panel">
                        <!-- Atividade Recente -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Atividade Recente</h2>
                            </div>
                            <div class="card-content">
                                <div class="table-container">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Data</th>
                                                <th>Atividade</th>
                                                <th>Status</th>
                                                <th>Especialista</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Hoje</td>
                                                <td>Sessão de Fonoaudiologia</td>
                                                <td><span class="badge success">Concluída</span></td>
                                                <td>Dra. Ana Costa</td>
                                            </tr>
                                            <tr>
                                                <td>Ontem</td>
                                                <td>Atividade Cognitiva</td>
                                                <td><span class="badge success">Concluída</span></td>
                                                <td>Sistema</td>
                                            </tr>
                                            <tr>
                                                <td>15/11</td>
                                                <td>Consulta Psicológica</td>
                                                <td><span class="badge warning">Agendada</span></td>
                                                <td>Dr. Carlos Lima</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Ações Rápidas -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Ações Rápidas</h2>
                            </div>
                            <div class="card-content">
                                <div class="btn-group">
                                    <button class="btn btn-primary">
                                        <i class="fas fa-calendar-plus"></i>
                                        Agendar Consulta
                                    </button>
                                    <button class="btn btn-outline">
                                        <i class="fas fa-file-medical"></i>
                                        Gerar Relatório
                                    </button>
                                    <button class="btn btn-secondary">
                                        <i class="fas fa-comments"></i>
                                        Conversar com Luna
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Side Panel -->
                    <div class="side-panel">
                        <!-- Próximas Consultas -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Próximas Consultas</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); border-left: 3px solid var(--primary-blue);">
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.25rem;">Fonoaudiologia</div>
                                        <div style="font-size: var(--text-xs); color: var(--text-medium);">15/11 às 14:00</div>
                                    </div>
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); border-left: 3px solid var(--primary-green);">
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.25rem;">Psicologia</div>
                                        <div style="font-size: var(--text-xs); color: var(--text-medium);">18/11 às 10:00</div>
                                    </div>
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); border-left: 3px solid var(--primary-orange);">
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.25rem;">Neuropediatria</div>
                                        <div style="font-size: var(--text-xs); color: var(--text-medium);">20/11 às 16:00</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Status do Sistema -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Status do Sistema</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem; background: rgba(84, 199, 164, 0.1); border-radius: var(--radius-md);">
                                    <i class="fas fa-check-circle" style="color: var(--primary-green); font-size: 1.25rem;"></i>
                                    <div>
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Todos os sistemas operacionais</div>
                                        <div style="font-size: var(--text-xs); color: var(--text-medium);">Última verificação: Agora</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

<!-- Perfil Autista Section -->
<!-- Tutorial Overlay - Perfil Autista 1 (2 Etapas com App Download) -->
<div class="tutorial-overlay" id="perfil1TutorialOverlay">
    <div class="tutorial-backdrop" onclick="closePerfil1Tutorial()"></div>
    
    <div class="tutorial-content">
        <!-- Barra de Progresso -->
        <div class="tutorial-progress">
            <div class="tutorial-progress-bar">
                <div class="perfil1-progress-fill"></div>
            </div>
            <span class="perfil1-progress-text">1 de 2</span>
        </div>
        
        <!-- Etapa 1: Informações do Perfil -->
        <div class="tutorial-step perfil1-tutorial-step active" id="perfil1Step1">
            <div class="tutorial-icon">
                <i class="fas fa-user-circle"></i>
            </div>
            <h3 class="tutorial-title">Perfil Individual do Neurodivergente</h3>
            <p class="tutorial-description">
                Este perfil contém todas as informações detalhadas, histórico de atividades, 
                marcos de desenvolvimento e dados importantes para o acompanhamento personalizado.
            </p>
            
            <div class="tutorial-features-list">
                <div class="tutorial-feature-item">
                    <i class="fas fa-chart-line"></i>
                    <span><strong>Progresso em Tempo Real:</strong> Acompanhe o desenvolvimento diário</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-calendar-check"></i>
                    <span><strong>Atividades Concluídas:</strong> Histórico completo de todas as sessões</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-user-md"></i>
                    <span><strong>Equipe Médica:</strong> Acesso rápido aos especialistas envolvidos</span>
                </div>
            </div>
        </div>
        
        <!-- Etapa 2: Download do Aplicativo -->
        <div class="tutorial-step perfil1-tutorial-step" id="perfil1Step2">
            <div class="tutorial-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h3 class="tutorial-title">Baixe Nosso Aplicativo!</h3>
            <p class="tutorial-description">
                Tenha acesso completo ao perfil do neurodivergente direto do seu celular. 
                Acompanhe o progresso, receba notificações e gerencie tudo em qualquer lugar!
            </p>
            
            <div class="app-download-section">
                <div class="app-features">
                    <div class="app-feature">
                        <span></span>
                    </div>
                    <div class="app-feature">
                        <span></span>
                    </div>
                    <div class="app-feature">
                        <span></span>
                    </div>
                    <div class="app-feature">
                        <span></span>
                    </div>
                </div>
                
                <div class="app-download-buttons">
                    <a href="#" class="app-download-btn apple-store">
                        <i class="fab fa-apple"></i>
                        <div class="app-btn-text">
                            <span class="app-btn-small">Baixar na</span>
                            <span class="app-btn-large">App Store</span>
                        </div>
                    </a>
                    
                    <a href="#" class="app-download-btn google-play">
                        <div class="app-btn-text">
                            <span class="app-btn-large"></span>
                        </div>
                    </a>
                </div>
                
                <div class="app-qr-section">
                    <div class="app-qr-code">
                    </div>
                    <p class="app-qr-text"></p>
                </div>
            </div>
        </div>
        
        <!-- Botões de Ação -->
        <div class="tutorial-actions">
            <button class="btn btn-secondary" onclick="prevPerfil1Step()" id="perfil1PrevBtn" disabled>
                <i class="fas fa-arrow-left"></i>
                Anterior
            </button>
            
            <button class="btn btn-primary" onclick="nextPerfil1Step()" id="perfil1NextBtn">
                Próximo
                <i class="fas fa-arrow-right"></i>
            </button>
            
            <button class="btn btn-primary" onclick="closePerfil1Tutorial()" id="perfil1FinishBtn" style="display: none;">
                Ok
                <i class="fas fa-check"></i>
            </button>
        </div>
    </div>
</div>

<!-- Perfil Autista Section -->
            <section id="perfil-autista1" class="section">
                <div class="page-header">
                    <h1 class="page-title">Perfil do Autista</h1>
                    <p class="page-subtitle">Informações e configurações do perfil do João</p>
                    <a href="../html/cadastroneuro.html" class="btn-adicionar-neuro">
                        <i class="fas fa-user-plus"></i>
                        Adicionar Neurodivergente
                    </a>
                </div>

                <div class="content-grid">
                    <div class="main-panel">
                        <!-- Informações Pessoais -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Informações Pessoais</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.25rem;">
                                    <div class="form-group">
                                        <label class="form-label">Nome Completo</label>
                                        <input type="text" class="form-input" value="João Silva Santos" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Data de Nascimento</label>
                                        <input type="date" class="form-input" value="2015-03-15" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Idade</label>
                                        <input type="text" class="form-input" value="8 anos" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Escola</label>
                                        <input type="text" class="form-input" value="Escola Municipal João XXIII" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Série/Ano</label>
                                        <input type="text" class="form-input" value="3º Ano do Ensino Fundamental" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Data de Diagnóstico</label>
                                        <input type="date" class="form-input" value="2020-01-10" disabled title="Este campo não pode ser alterado">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="side-panel">
                        <!-- Equipe Médica -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Equipe Médica</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); display: flex; align-items: center; gap: 0.75rem;">
                                        <div style="width: 40px; height: 40px; background: rgba(74, 144, 226, 0.1); color: var(--primary-blue); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <i class="fas fa-user-md"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Dr. Pedro Oliveira</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium);">Neuropediatra</div>
                                        </div>
                                    </div>
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); display: flex; align-items: center; gap: 0.75rem;">
                                        <div style="width: 40px; height: 40px; background: rgba(84, 199, 164, 0.1); color: var(--primary-green); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <i class="fas fa-user-md"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Dra. Ana Costa</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium);">Fonoaudióloga</div>
                                        </div>
                                    </div>
                                    <div style="padding: 0.75rem; background: var(--bg-elevated); border-radius: var(--radius-md); display: flex; align-items: center; gap: 0.75rem;">
                                        <div style="width: 40px; height: 40px; background: rgba(255, 107, 53, 0.1); color: var(--primary-orange); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <i class="fas fa-user-md"></i>
                                        </div>
                                        <div style="flex: 1;">
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Dr. Carlos Lima</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium);">Psicólogo</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Contatos de Emergência -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Contatos de Emergência</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div>
                                        <div style="font-size: var(--text-xs); font-weight: var(--weight-semibold); text-transform: uppercase; color: var(--text-medium); margin-bottom: 0.25rem;">Responsável Principal</div>
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Maria Silva Santos</div>
                                        <div style="font-size: var(--text-sm); color: var(--text-medium);">(11) 99999-9999</div>
                                    </div>
                                    <div style="border-top: 1px solid var(--border-light); padding-top: 1rem;">
                                        <div style="font-size: var(--text-xs); font-weight: var(--weight-semibold); text-transform: uppercase; color: var(--text-medium); margin-bottom: 0.25rem;">Contato Secundário</div>
                                        <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">José Silva Santos</div>
                                        <div style="font-size: var(--text-sm); color: var(--text-medium);">(11) 98888-8888</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Perfil Section -->
            <section id="perfil" class="section">
                <div class="page-header">
                    <h1 class="page-title">Meu Perfil</h1>
                    <p class="page-subtitle">Gerencie suas informações pessoais e preferências</p>
                </div>

                <div class="content-grid">
                    <div class="main-panel">
                        <!-- Informações Pessoais -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Informações Pessoais</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.25rem;">
                                    <div class="form-group">
                                        <label class="form-label">Nome Completo</label>
                                        <input type="text" class="form-input" id="perfil-nome" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-input" id="perfil-email" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Celular</label>
                                        <input type="tel" class="form-input" id="perfil-celular" placeholder="(11) 99999-9999" maxlength="15">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">CPF</label>
                                        <input type="text" class="form-input" id="perfil-cpf" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Data de Nascimento</label>
                                        <input type="text" class="form-input" id="perfil-data-nascimento" disabled title="Este campo não pode ser alterado">
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-secondary" onclick="cancelarEdicao()">Cancelar</button>
                                <button class="btn btn-primary" onclick="salvarAlteracoes()">Salvar Alterações</button>
                            </div>
                        </div>

                        <!-- Endereço -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Endereço</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.25rem;">
                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label class="form-label">Rua</label>
                                        <input type="text" class="form-input" id="perfil-rua" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Número</label>
                                        <input type="text" class="form-input" id="perfil-numero" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Complemento</label>
                                        <input type="text" class="form-input" id="perfil-complemento" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Bairro</label>
                                        <input type="text" class="form-input" id="perfil-bairro" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Cidade</label>
                                        <input type="text" class="form-input" id="perfil-cidade" disabled title="Este campo não pode ser alterado">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">CEP</label>
                                        <input type="text" class="form-input" id="perfil-cep" disabled title="Este campo não pode ser alterado">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Segurança -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Segurança</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 1rem; padding: 1rem; background: var(--bg-elevated); border-radius: var(--radius-md);">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Autenticação de Dois Fatores</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium); margin-top: 0.25rem;">Adicione uma camada extra de segurança</div>
                                        </div>
                                        <label class="switch">
                                            <input type="checkbox">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <button class="btn btn-outline" style="width: fit-content;">
                                        <i class="fas fa-key"></i>
                                        Alterar Senha
                                    </button>
                                </div>

                                <h3 style="margin-top: 1.5rem; margin-bottom: 0.75rem; font-size: var(--text-base); font-weight: var(--weight-semibold);">Sessões Ativas</h3>
                                <div class="table-container">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Dispositivo</th>
                                                <th>Local</th>
                                                <th>Data</th>
                                                <th>Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><i class="fas fa-laptop"></i> Chrome - Windows</td>
                                                <td>São Paulo, BR</td>
                                                <td>Agora</td>
                                                <td><span class="badge primary">Atual</span></td>
                                            </tr>
                                            <tr>
                                                <td><i class="fas fa-mobile-alt"></i> Safari - iOS</td>
                                                <td>São Paulo, BR</td>
                                                <td>2 horas atrás</td>
                                                <td><button class="btn btn-sm btn-outline">Encerrar</button></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="side-panel">
                        <!-- Foto do Perfil -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Foto do Perfil</h2>
                            </div>
                            <div class="card-content">
                                <div style="text-align: center;">
                                    <div id="perfil-avatar-display" style="width: 120px; height: 120px; margin: 0 auto 1rem; background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%); color: white; border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; font-size: 3rem; font-weight: var(--weight-semibold); position: relative; overflow: hidden;">
                                        <span id="perfil-iniciais">M</span>
                                        <img id="perfil-foto-img" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; display: none;">
                                    </div>
                                    <input type="file" id="input-foto-perfil" accept="image/*" style="display: none;">
                                    <button class="btn btn-outline btn-sm" onclick="document.getElementById('input-foto-perfil').click()">
                                        <i class="fas fa-camera"></i>
                                        Alterar Foto
                                    </button>
                                    <p style="margin-top: 0.5rem; font-size: var(--text-xs); color: var(--text-light);">Tamanho máximo: 5MB</p>
                                </div>
                            </div>
                        </div>

                        <!-- Estatísticas da Conta -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Estatísticas da Conta</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid var(--border-light);">
                                        <span style="font-size: var(--text-sm); color: var(--text-medium);">Membro desde</span>
                                        <span style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Janeiro 2024</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid var(--border-light);">
                                        <span style="font-size: var(--text-sm); color: var(--text-medium);">Sessões totais</span>
                                        <span style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">42</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0;">
                                        <span style="font-size: var(--text-sm); color: var(--text-medium);">Último acesso</span>
                                        <span style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark);">Hoje</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Preferências -->
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Preferências</h2>
                            </div>
                            <div class="card-content">
                                <div style="display: flex; flex-direction: column; gap: 1rem;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--text-dark);">Notificações por Email</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium); margin-top: 0.25rem;">Receba atualizações por email</div>
                                        </div>
                                        <label class="switch">
                                            <input type="checkbox">
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--text-dark);">Notificações Push</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium); margin-top: 0.25rem;">Receba alertas no navegador</div>
                                        </div>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <div style="font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--text-dark);">Lembrete de Consultas</div>
                                            <div style="font-size: var(--text-xs); color: var(--text-medium); margin-top: 0.25rem;">Alertas antes das consultas</div>
                                        </div>
                                        <label class="switch">
                                            <input type="checkbox" checked>
                                            <span class="slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
<!-- Perfil Autista Section -->

<!-- COLE ESTE CÓDIGO APÓS A SEÇÃO perfil-autista1 -->

            <!-- Luna Section -->
            <section id="luna" class="section">
                <div class="page-header">
                    <h1 class="page-title">Assistente Luna</h1>
                    <p class="page-subtitle">IA especializada em Transtorno do Espectro Autista</p>
                </div>

                <div class="card" style="max-width: 900px; margin: 0 auto;">
                    <div class="card-content" style="min-height: 500px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 3rem;">
                        <div style="width: 120px; height: 120px; background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%); color: white; border-radius: var(--radius-2xl); display: flex; align-items: center; justify-content: center; font-size: 4rem; margin-bottom: 2rem; box-shadow: var(--shadow-xl);">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3 style="font-size: var(--text-2xl); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 1rem;">Olá! Sou a Luna</h3>
                        <p style="font-size: var(--text-base); color: var(--text-medium); max-width: 500px; margin-bottom: 2rem;">Estou aqui para ajudar você com informações sobre o desenvolvimento do João, tirar dúvidas sobre TEA e oferecer orientações personalizadas.</p>
                        <button class="btn btn-primary btn-lg" onclick="window.location.href='../html/luna.html'">
                            <i class="fas fa-comments"></i>
                            Iniciar Conversa
                        </button>
                    </div>
                </div>
            </section>

<!-- Tutorial Overlay - Perfil do Autista (3 Etapas) -->
<div class="tutorial-overlay" id="perfilTutorialOverlay">
    <div class="tutorial-backdrop" onclick="closePerfilTutorial()"></div>
    
    <div class="tutorial-content">
        <!-- Barra de Progresso -->
        <div class="tutorial-progress">
            <div class="tutorial-progress-bar">
                <div class="perfil-progress-fill"></div>
            </div>
            <span class="perfil-progress-text">1 de 3</span>
        </div>
        
        <!-- Etapa 1: Informações Gerais -->
        <div class="tutorial-step perfil-tutorial-step active" id="perfilStep1">
            <div class="tutorial-icon">
                <i class="fas fa-user-circle"></i>
            </div>
            <h3 class="tutorial-title">Perfil do Neurodivergente</h3>
            <p class="tutorial-description">
                Aqui você pode visualizar e gerenciar todas as informações importantes sobre o neurodivergente, 
                incluindo dados pessoais, equipe médica e contatos de emergência.
            </p>
            
            <div class="tutorial-info-box">
                <i class="fas fa-lightbulb"></i>
                <p>
                    <strong>Dica:</strong> Mantenha sempre as informações atualizadas para garantir 
                    o melhor acompanhamento e cuidado.
                </p>
            </div>
        </div>
        
        <!-- Etapa 2: Perfil Sensorial -->
        <div class="tutorial-step perfil-tutorial-step" id="perfilStep2">
            <div class="tutorial-icon">
                <i class="fas fa-brain"></i>
            </div>
            <h3 class="tutorial-title">Perfil Sensorial</h3>
            <p class="tutorial-description">
                O perfil sensorial ajuda a entender melhor as sensibilidades, interesses especiais 
                e estratégias de regulação do neurodivergente.
            </p>
            
            <div class="tutorial-features-list">
                <div class="tutorial-feature-item">
                    <i class="fas fa-heart"></i>
                    <span><strong>Interesses Especiais:</strong> Registre os temas e atividades que mais interessam</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-utensils"></i>
                    <span><strong>Alimentos Preferidos:</strong> Mantenha uma lista de preferências alimentares</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-volume-up"></i>
                    <span><strong>Sensibilidades:</strong> Documente sensibilidades sensoriais importantes</span>
                </div>
            </div>
        </div>
        
        <!-- Etapa 3: Acompanhamento -->
        <div class="tutorial-step perfil-tutorial-step" id="perfilStep3">
            <div class="tutorial-icon">
                <i class="fas fa-chart-line"></i>
            </div>
            <h3 class="tutorial-title">Acompanhamento e Desenvolvimento</h3>
            <p class="tutorial-description">
                Utilize os marcos de desenvolvimento para acompanhar o progresso em áreas como 
                comunicação, habilidades sociais, autocuidado e desenvolvimento motor.
            </p>
            
            <div class="tutorial-info-box">
                <i class="fas fa-star"></i>
                <p>
                    <strong>Importante:</strong> O acompanhamento contínuo permite identificar conquistas 
                    e ajustar estratégias de suporte quando necessário.
                </p>
            </div>
        </div>
        
        <!-- Botões de Ação -->
        <div class="tutorial-actions">
            <button class="btn btn-secondary" onclick="prevPerfilStep()" id="perfilPrevBtn" disabled>
                <i class="fas fa-arrow-left"></i>
                Anterior
            </button>
            
            <button class="btn btn-primary" onclick="nextPerfilStep()" id="perfilNextBtn">
                Próximo
                <i class="fas fa-arrow-right"></i>
            </button>
            
            <button class="btn btn-primary" onclick="closePerfilTutorial()" id="perfilFinishBtn" style="display: none;">
                Ok
                <i class="fas fa-check"></i>
            </button>
        </div>
    </div>
</div>

<!-- SEÇÃO: PERFIL SENSORIAL -->
<section class="section" id="perfil-autista">
    <div class="page-header-simple">
        <h1 class="page-title-simple">Perfil Sensorial</h1>
        <button class="btn btn-outline-primary" onclick="shareProfile()">
            <i class="fas fa-share-alt"></i> Compartilhar Perfil
        </button>
    </div>

    <!-- INTERESSES E PREFERÊNCIAS -->
    <div class="card-modern">
        <h2 class="section-title">Interesses e Preferências</h2>
        
        <div class="two-column-grid">
            <!-- Coluna 1: Interesses Especiais -->
            <div class="column-content">
                <h3 class="subsection-title">Interesses Especiais</h3>
                <div class="tags-container" id="interesses-container">
                    <span class="tag tag-blue">Dinossauros</span>
                    <span class="tag tag-blue">Trens</span>
                    <span class="tag tag-blue">Blocos de Montar</span>
                    <span class="tag tag-blue">Música</span>
                </div>
                <button class="btn-add" onclick="addItem('interesses')">
                    <i class="fas fa-plus"></i> Adicionar
                </button>
            </div>

            <!-- Coluna 2: Alimentos Preferidos -->
            <div class="column-content">
                <h3 class="subsection-title">Alimentos Preferidos</h3>
                <div class="checklist-container" id="alimentos-container">
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Macarrão com molho de tomate</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('alimentos', 1)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('alimentos', 1)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Frango grelhado</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('alimentos', 2)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('alimentos', 2)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Banana</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('alimentos', 3)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('alimentos', 3)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Iogurte natural</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('alimentos', 4)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('alimentos', 4)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn-add" onclick="addItem('alimentos')">
                    <i class="fas fa-plus"></i> Adicionar
                </button>
            </div>
        </div>
    </div>

    <!-- PERFIL SENSORIAL -->
    <div class="card-modern">
        <h2 class="section-title">Perfil Sensorial</h2>
        
        <div class="two-column-grid">
            <!-- Coluna 1: Sensibilidades -->
            <div class="column-content">
                <h3 class="subsection-title">Sensibilidades</h3>
                <div class="tags-container" id="sensibilidades-container">
                    <span class="tag tag-orange">Sons Altos</span>
                    <span class="tag tag-orange">Luzes Fortes</span>
                    <span class="tag tag-orange">Multidões</span>
                </div>
                <button class="btn-add" onclick="addItem('sensibilidades')">
                    <i class="fas fa-plus"></i> Adicionar
                </button>
            </div>

            <!-- Coluna 2: Estratégias de Regulação -->
            <div class="column-content">
                <h3 class="subsection-title">Estratégias de Regulação</h3>
                <div class="checklist-container" id="estrategias-container">
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Uso de fones com cancelamento de ruído</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('estrategias', 1)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('estrategias', 1)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Pausas em ambiente calmo</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('estrategias', 2)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('estrategias', 2)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Objeto de conforto (dinossauro de pelúcia)</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('estrategias', 3)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('estrategias', 3)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    <div class="checklist-item">
                        <i class="fas fa-check check-icon"></i>
                        <span>Respiração profunda</span>
                        <div class="item-actions-inline">
                            <button class="btn-icon-inline edit" onclick="editItemInline('estrategias', 4)">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon-inline delete" onclick="deleteItemInline('estrategias', 4)">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn-add" onclick="addItem('estrategias')">
                    <i class="fas fa-plus"></i> Adicionar
                </button>
            </div>
        </div>
    </div>

    <!-- MARCOS DE DESENVOLVIMENTO -->
    <div class="card-modern">
        <h2 class="section-title">Marcos de Desenvolvimento</h2>
        
        <div class="development-grid">
            <div class="development-card">
                <div class="development-header">
                    <div class="development-icon communication-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3 class="development-title">COMUNICAÇÃO</h3>
                </div>
                <p class="development-text">Usa frases de 3-4 palavras</p>
                <div class="development-actions">
                    <button class="btn-icon-inline edit" onclick="editDevelopment('comunicacao')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>

            <div class="development-card">
                <div class="development-header">
                    <div class="development-icon social-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="development-title">SOCIAL</h3>
                </div>
                <p class="development-text">Iniciando contato visual</p>
                <div class="development-actions">
                    <button class="btn-icon-inline edit" onclick="editDevelopment('social')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>

            <div class="development-card">
                <div class="development-header">
                    <div class="development-icon selfcare-icon">
                        <i class="fas fa-hand-sparkles"></i>
                    </div>
                    <h3 class="development-title">AUTOCUIDADO</h3>
                </div>
                <p class="development-text">Rotina de higiene básica</p>
                <div class="development-actions">
                    <button class="btn-icon-inline edit" onclick="editDevelopment('autocuidado')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>

            <div class="development-card">
                <div class="development-header">
                    <div class="development-icon motor-icon">
                        <i class="fas fa-running"></i>
                    </div>
                    <h3 class="development-title">MOTOR</h3>
                </div>
                <p class="development-text">Coordenação motora fina</p>
                <div class="development-actions">
                    <button class="btn-icon-inline edit" onclick="editDevelopment('motor')">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

            <!-- Progresso Section -->
            <section id="progresso" class="section">
                <div class="page-header">
                    <h1 class="page-title">Progresso</h1>
                    <p class="page-subtitle">Acompanhamento detalhado do desenvolvimento</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Relatórios de Progresso</h2>
                    </div>
                    <div class="card-content" style="min-height: 400px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                        <div style="width: 80px; height: 80px; background: rgba(74, 144, 226, 0.1); color: var(--primary-blue); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin-bottom: 1.5rem;">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3 style="font-size: var(--text-xl); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.75rem;">Esta seção estará disponível em breve.</h3>
                        <p style="font-size: var(--text-base); color: var(--text-medium); max-width: 500px;">Aqui você poderá acompanhar gráficos detalhados, estatísticas e análises do desenvolvimento do João.</p>
                    </div>
                </div>
            </section>

<!-- Tutorial Overlay - Especialistas (1 Etapa) -->
<div class="tutorial-overlay" id="especialistasTutorialOverlay">
    <div class="tutorial-backdrop" onclick="closeEspecialistasTutorial()"></div>
    <div class="tutorial-content">
        <!-- Etapa Única -->
        <div class="tutorial-step active" id="especialistasStep1">
            <div class="tutorial-icon">
                <i class="fas fa-user-md"></i>
            </div>
            <h3 class="tutorial-title">Equipe de Especialistas</h3>
            <p class="tutorial-description">
                Aqui você pode gerenciar toda a equipe multidisciplinar responsável pelo acompanhamento. Adicione novos profissionais, visualize informações de contato e acompanhe o calendário de consultas.
            </p>
            <div class="tutorial-features-list">
                <div class="tutorial-feature-item">
                    <i class="fas fa-user-plus"></i>
                    <span><strong>Adicionar Especialistas:</strong> Cadastre novos profissionais na equipe</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-calendar-check"></i>
                    <span><strong>Consultas Agendadas:</strong> Visualize e gerencie próximas consultas</span>
                </div>
                <div class="tutorial-feature-item">
                    <i class="fas fa-phone"></i>
                    <span><strong>Contatos Diretos:</strong> Acesso rápido aos telefones dos especialistas</span>
                </div>
            </div>
            <div class="tutorial-info-box">
                <i class="fas fa-lightbulb"></i>
                <p><strong>Dica:</strong> Mantenha os contatos atualizados para facilitar a comunicação com a equipe médica.</p>
            </div>
        </div>

        <!-- Botões de Ação -->
        <div class="tutorial-actions">
            <button class="btn btn-secondary" onclick="postponeEspecialistasTutorial()">
                Talvez mais tarde
            </button>
            <button class="btn btn-primary" onclick="closeEspecialistasTutorial()">
                Ver <i class="fas fa-check"></i>
            </button>
        </div>
    </div>
</div>

            <!-- Especialistas Section -->
            <section id="especialistas" class="section">
                <div class="page-header">
                    <h1 class="page-title">Especialistas</h1>
                    <p class="page-subtitle">Gerencie sua equipe multidisciplinar</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Equipe Médica</h2>
                        <button class="btn btn-primary btn-sm" onclick="window.location.href='../html/especialista.html'">
                            <i class="fas fa-plus"></i>
                            Adicionar Especialista
                        </button>
                        
                    </div>
                    <div class="card-content">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Especialista</th>
                                        <th>Especialidade</th>
                                        <th>Contato</th>
                                        <th>Próxima Consulta</th>
                                        <th>Status</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Dr. Pedro Oliveira</td>
                                        <td>Neuropediatra</td>
                                        <td>(11) 91234-5678</td>
                                        <td>20/11/2024</td>
                                        <td><span class="badge success">Ativo</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Editar</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Dra. Ana Costa</td>
                                        <td>Fonoaudióloga</td>
                                        <td>(11) 92345-6789</td>
                                        <td>15/11/2024</td>
                                        <td><span class="badge success">Ativo</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Editar</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Dr. Carlos Lima</td>
                                        <td>Psicólogo</td>
                                        <td>(11) 93456-7890</td>
                                        <td>18/11/2024</td>
                                        <td><span class="badge success">Ativo</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Editar</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 1.5rem;">
                    <div class="card-header">
                        <h2 class="card-title">Calendário de Consultas</h2>
                    </div>
                    <div class="card-content">
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Horário</th>
                                        <th>Especialista</th>
                                        <th>Tipo</th>
                                        <th>Status</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>15/11/2024</td>
                                        <td>14:00</td>
                                        <td>Dra. Ana Costa</td>
                                        <td>Fonoaudiologia</td>
                                        <td><span class="badge warning">Agendada</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Detalhes</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>18/11/2024</td>
                                        <td>10:00</td>
                                        <td>Dr. Carlos Lima</td>
                                        <td>Psicologia</td>
                                        <td><span class="badge warning">Agendada</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Detalhes</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>20/11/2024</td>
                                        <td>16:00</td>
                                        <td>Dra. Fernanda Santos</td>
                                        <td>Terapia Ocupacional</td>
                                        <td><span class="badge warning">Agendada</span></td>
                                        <td>
                                            <button class="btn btn-sm btn-outline">Detalhes</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Relatórios Section -->
            <section id="relatorios" class="section">
                <div class="page-header">
                    <h1 class="page-title">Relatórios</h1>
                    <p class="page-subtitle">Relatórios detalhados de acompanhamento</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Sistema de Relatórios</h2>
                    </div>
                    <div class="card-content" style="min-height: 400px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                        <div style="width: 80px; height: 80px; background: rgba(74, 144, 226, 0.1); color: var(--primary-blue); border-radius: var(--radius-xl); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin-bottom: 1.5rem;">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <h3 style="font-size: var(--text-xl); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.75rem;">Esta funcionalidade estará disponível em breve.</h3>
                        <p style="font-size: var(--text-base); color: var(--text-medium); max-width: 500px;">Aqui você poderá gerar relatórios personalizados sobre o desenvolvimento, atividades e marcos alcançados.</p>
                    </div>
                </div>
            </section>

            <!-- Recursos Section -->
            <section id="recursos" class="section">
                <div class="page-header">
                    <h1 class="page-title">Recursos & Suporte</h1>
                    <p class="page-subtitle">Materiais educativos, vídeos informativos e canais de comunicação</p>
                </div>

                <!-- Materiais PDF -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Materiais em PDF</h2>
                    </div>
                    <div class="card-content">
                        <p style="margin-bottom: 1.5rem; color: var(--text-medium);">Acesse cartilhas, guias e materiais educativos sobre o Transtorno do Espectro Autista.</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem;">
                            <a href="https://www.defensoria.rs.def.br/upload/arquivos/202504/25112005-cartilha-crianca-e-adolescente-com-autismo-2025.pdf" target="_blank" style="text-decoration: none; padding: 1rem; background: var(--bg-elevated); border-radius: var(--radius-md); border: 1px solid var(--border-light); transition: all var(--transition-base); display: block;">
                                <div style="display: flex; align-items: flex-start; gap: 0.75rem;">
                                    <div style="width: 40px; height: 40px; background: rgba(255, 107, 53, 0.1); color: var(--primary-orange); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <i class="fas fa-file-pdf"></i>
                                    </div>
                                    <div style="flex: 1;">
                                        <h3 style="font-size: var(--text-sm); font-weight: var(--weight-semibold); color: var(--text-dark); margin-bottom: 0.25rem;">Direitos da Criança e Adolescente com Autismo</h3>
                                        <p style="font-size: var(--text-xs); color: var(--text-medium); margin-bottom: 0.5rem;">Cartilha completa sobre direitos, características do TEA e orientações para famílias (2025)</p>
                                        <span style="font-size: var(--text-xs); color: var(--primary-blue); font-weight: var(--weight-medium);">Defensoria Pública RS</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Mais PDFs aqui... -->
 <script>
// ============================================
// VERIFICAR SESSÃO E CARREGAR DADOS DO HEADER
// ============================================
function verificarSessao() {
    fetch('../php/verificar_sessao_responsavel.php')
        .then(response => response.json())
        .then(data => {
            if (!data.logado) {
                window.location.href = '../html/login.html';
                return;
            }
            
            if (data.success) {
                const dados = data.dados;
                
                // Atualizar nome no header
                const nomeHeader = document.getElementById('header-nome');
                if (nomeHeader) {
                    nomeHeader.textContent = dados.primeiro_nome;
                }
                
                // Atualizar iniciais/foto do avatar no header
                const avatarHeader = document.getElementById('header-avatar');
                if (avatarHeader) {
                    if (dados.perfil && dados.perfil.trim() !== '') {
                        // CORRIGIDO: Caminho correto da imagem
                        avatarHeader.style.backgroundImage = `url('../${dados.perfil}')`;
                        avatarHeader.style.backgroundSize = 'cover';
                        avatarHeader.style.backgroundPosition = 'center';
                        avatarHeader.textContent = '';
                    } else {
                        avatarHeader.textContent = dados.iniciais;
                        avatarHeader.style.backgroundImage = 'none';
                    }
                }
                
                // Atualizar mensagem de boas-vindas no dashboard
                const boasVindas = document.getElementById('dashboard-boas-vindas');
                if (boasVindas) {
                    boasVindas.textContent = `Bem-vinda, ${dados.primeiro_nome}`;
                }
            }
        })
        .catch(error => {
            console.error('Erro ao verificar sessão:', error);
            // Redirecionar para login em caso de erro
            setTimeout(() => {
                window.location.href = '../html/login.html';
            }, 2000);
        });
}

// ============================================
// FUNÇÃO DE LOGOUT
// ============================================
function fazerLogout() {
    if (confirm('Deseja realmente sair do sistema?')) {
        window.location.href = '../php/logout_responsavel.php';
    }
}

// ============================================
// CARREGAR DADOS DO PERFIL
// ============================================
function carregarDadosPerfil() {
    fetch('../php/buscar_dados_responsavel.php')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const dados = data.dados;
                
                // Preencher campos pessoais
                document.getElementById('perfil-nome').value = dados.nome || '';
                document.getElementById('perfil-email').value = dados.email || '';
                document.getElementById('perfil-celular').value = dados.celular_formatado || '';
                document.getElementById('perfil-cpf').value = dados.cpf_formatado || '';
                
                // CORRIGIDO: Data de nascimento formatada para exibição
                document.getElementById('perfil-data-nascimento').value = dados.data_nascimento_formatada || '';
                
                // Preencher endereço
                document.getElementById('perfil-rua').value = dados.rua || '';
                document.getElementById('perfil-numero').value = dados.numero || '';
                document.getElementById('perfil-complemento').value = dados.complemento || '';
                document.getElementById('perfil-bairro').value = dados.bairro || '';
                document.getElementById('perfil-cidade').value = dados.cidade || '';
                document.getElementById('perfil-cep').value = dados.cep_formatado || '';
                
                // Atualizar foto/avatar
                const iniciais = dados.iniciais || 'M';
                const perfilIniciais = document.getElementById('perfil-iniciais');
                const perfilFotoImg = document.getElementById('perfil-foto-img');
                
                if (perfilIniciais) {
                    perfilIniciais.textContent = iniciais;
                }
                
                // CORRIGIDO: Exibir foto se existir
                if (dados.perfil && dados.perfil.trim() !== '' && perfilFotoImg) {
                    perfilFotoImg.src = '../' + dados.perfil + '?t=' + new Date().getTime();
                    perfilFotoImg.style.display = 'block';
                    if (perfilIniciais) {
                        perfilIniciais.style.display = 'none';
                    }
                } else if (perfilFotoImg) {
                    perfilFotoImg.style.display = 'none';
                    if (perfilIniciais) {
                        perfilIniciais.style.display = 'flex';
                    }
                }
            } else {
                console.error('Erro ao carregar dados:', data.message);
                alert('Erro ao carregar dados do perfil: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Erro:', error);
            alert('Erro ao carregar dados do perfil. Verifique sua conexão.');
        });
}

// ============================================
// SALVAR ALTERAÇÕES (CELULAR)
// ============================================
function salvarAlteracoes() {
    const celular = document.getElementById('perfil-celular').value;
    
    if (!celular) {
        alert('Por favor, preencha o celular');
        return;
    }
    
    // Validar formato do celular
    const celularLimpo = celular.replace(/\D/g, '');
    if (celularLimpo.length !== 11) {
        alert('Celular inválido! Digite no formato (11) 99999-9999');
        return;
    }
    
    const formData = new FormData();
    formData.append('celular', celular);
    
    // Desabilitar botão durante salvamento
    const btnSalvar = event.target;
    const textoOriginal = btnSalvar.innerHTML;
    btnSalvar.disabled = true;
    btnSalvar.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Salvando...';
    
    fetch('../php/atualizar_perfil_responsavel.php', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert(data.message);
            carregarDadosPerfil();
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Erro:', error);
        alert('Erro ao salvar alterações. Tente novamente.');
    })
    .finally(() => {
        btnSalvar.disabled = false;
        btnSalvar.innerHTML = textoOriginal;
    });
}

// ============================================
// CANCELAR EDIÇÃO
// ============================================
function cancelarEdicao() {
    if (confirm('Deseja descartar as alterações?')) {
        carregarDadosPerfil();
    }
}

// ============================================
// UPLOAD DE FOTO
// ============================================
document.addEventListener('DOMContentLoaded', function() {
    const inputFoto = document.getElementById('input-foto-perfil');
    if (inputFoto) {
        inputFoto.addEventListener('change', function(e) {
            const file = e.target.files[0];
            
            if (!file) return;
            
            // Validar tamanho (5MB)
            if (file.size > 5242880) {
                alert('Arquivo muito grande! Tamanho máximo: 5MB');
                inputFoto.value = '';
                return;
            }
            
            // Validar tipo
            const tiposPermitidos = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
            if (!tiposPermitidos.includes(file.type)) {
                alert('Tipo de arquivo inválido! Use apenas JPG, PNG ou GIF');
                inputFoto.value = '';
                return;
            }
            
            const formData = new FormData();
            formData.append('perfil', file);
            
            // Mostrar loading
            const avatarDisplay = document.getElementById('perfil-avatar-display');
            const originalContent = avatarDisplay.innerHTML;
            avatarDisplay.innerHTML = '<i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: white;"></i>';
            
            fetch('../php/atualizar_perfil_responsavel.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // CORRIGIDO: Atualizar preview da foto com timestamp para evitar cache
                    const timestamp = new Date().getTime();
                    const perfilFotoImg = document.getElementById('perfil-foto-img');
                    const perfilIniciais = document.getElementById('perfil-iniciais');
                    
                    if (perfilFotoImg) {
                        perfilFotoImg.src = data.foto_url + '?t=' + timestamp;
                        perfilFotoImg.style.display = 'block';
                        perfilFotoImg.onload = function() {
                            if (perfilIniciais) {
                                perfilIniciais.style.display = 'none';
                            }
                        };
                    }
                    
                    // Atualizar também no header
                    verificarSessao();
                    
                    alert(data.message);
                } else {
                    alert(data.message);
                    avatarDisplay.innerHTML = originalContent;
                }
            })
            .catch(error => {
                console.error('Erro:', error);
                alert('Erro ao fazer upload da foto. Tente novamente.');
                avatarDisplay.innerHTML = originalContent;
            })
            .finally(() => {
                inputFoto.value = '';
            });
        });
    }
    
    // CORRIGIDO: Máscara para celular
    const celularInput = document.getElementById('perfil-celular');
    if (celularInput) {
        celularInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            // Limitar a 11 dígitos
            if (value.length > 11) {
                value = value.substring(0, 11);
            }
            
            // Aplicar máscara
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            }
            
            e.target.value = value;
        });
    }
});

// ============================================
// TUTORIAL PRINCIPAL (5 ETAPAS)
// ============================================
let currentStep = 1;
const totalSteps = 5;

function nextStep() { 
    if (currentStep < totalSteps) {
        document.querySelector(`.tutorial-step[data-step="${currentStep}"]`).classList.remove('active');
        currentStep++;
        document.querySelector(`.tutorial-step[data-step="${currentStep}"]`).classList.add('active');
        updateProgress();
    }
}

function prevStep() {
    if (currentStep > 1) {
        document.querySelector(`.tutorial-step[data-step="${currentStep}"]`).classList.remove('active');
        currentStep--;
        document.querySelector(`.tutorial-step[data-step="${currentStep}"]`).classList.add('active');
        updateProgress();
    }
}

function updateProgress() {
    const progressPercentage = (currentStep / totalSteps) * 100;
    const progressBar = document.getElementById('tutorial-progress');
    const stepCounter = document.getElementById('step-counter');
    
    if (progressBar) {
        progressBar.style.width = progressPercentage + '%';
    }
    if (stepCounter) {
        stepCounter.textContent = `${currentStep} / ${totalSteps}`;
    }
}

function toggleFinishButton() {
    const checkbox = document.getElementById('terms-checkbox');
    const finishBtn = document.getElementById('finish-btn');
    if (finishBtn) {
        finishBtn.disabled = !checkbox.checked;
    }
}

function closeTutorial() {
    const checkbox = document.getElementById('terms-checkbox');
    
    if (currentStep === totalSteps && checkbox && !checkbox.checked) {
        alert('Por favor, aceite os Termos de Uso e a Política de Privacidade para continuar.');
        return;
    }
    
    const tutorialOverlay = document.getElementById('tutorial-overlay');
    if (tutorialOverlay) {
        tutorialOverlay.classList.remove('active');
    }
    localStorage.setItem('tutorialCompleted', 'true');
}

// ============================================
// TUTORIAL PERFIL AUTISTA 1 (2 ETAPAS)
// ============================================
let perfil1TutorialStep = 1;
const perfil1TotalSteps = 2;

function openPerfil1Tutorial() {
    const perfil1TutorialCompleted = localStorage.getItem('perfil1TutorialCompleted');
    const overlay = document.getElementById('perfil1TutorialOverlay');
    
    if (!perfil1TutorialCompleted && overlay) {
        perfil1TutorialStep = 1;
        updatePerfil1TutorialStep();
        overlay.classList.add('active');
    }
}

function closePerfil1Tutorial() {
    const overlay = document.getElementById('perfil1TutorialOverlay');
    if (overlay) {
        overlay.classList.remove('active');
    }
    localStorage.setItem('perfil1TutorialCompleted', 'true');
}

function nextPerfil1Step() {
    if (perfil1TutorialStep < perfil1TotalSteps) {
        perfil1TutorialStep++;
        updatePerfil1TutorialStep();
    }
}

function prevPerfil1Step() {
    if (perfil1TutorialStep > 1) {
        perfil1TutorialStep--;
        updatePerfil1TutorialStep();
    }
}

function updatePerfil1TutorialStep() {
    document.querySelectorAll('.perfil1-tutorial-step').forEach(step => {
        step.classList.remove('active');
    });
    
    const currentStepEl = document.getElementById(`perfil1Step${perfil1TutorialStep}`);
    if (currentStepEl) {
        currentStepEl.classList.add('active');
    }
    
    const progressFill = document.querySelector('.perfil1-progress-fill');
    const progressText = document.querySelector('.perfil1-progress-text');
    
    if (progressFill) {
        const progressPercentage = (perfil1TutorialStep / perfil1TotalSteps) * 100;
        progressFill.style.width = progressPercentage + '%';
    }
    
    if (progressText) {
        progressText.textContent = `${perfil1TutorialStep} de ${perfil1TotalSteps}`;
    }
    
    const prevBtn = document.getElementById('perfil1PrevBtn');
    const nextBtn = document.getElementById('perfil1NextBtn');
    const finishBtn = document.getElementById('perfil1FinishBtn');
    
    if (prevBtn) prevBtn.disabled = perfil1TutorialStep === 1;
    
    if (perfil1TutorialStep === perfil1TotalSteps) {
        if (nextBtn) nextBtn.style.display = 'none';
        if (finishBtn) finishBtn.style.display = 'inline-flex';
    } else {
        if (nextBtn) nextBtn.style.display = 'inline-flex';
        if (finishBtn) finishBtn.style.display = 'none';
    }
}

// ============================================
// TUTORIAL PERFIL SENSORIAL (3 ETAPAS)
// ============================================
let perfilTutorialStep = 1;
const perfilTotalSteps = 3;

function openPerfilTutorial() {
    const perfilTutorialCompleted = localStorage.getItem('perfilTutorialCompleted');
    const overlay = document.getElementById('perfilTutorialOverlay');
    
    if (!perfilTutorialCompleted && overlay) {
        perfilTutorialStep = 1;
        updatePerfilTutorialStep();
        overlay.classList.add('active');
    }
}

function closePerfilTutorial() {
    const overlay = document.getElementById('perfilTutorialOverlay');
    if (overlay) {
        overlay.classList.remove('active');
    }
    localStorage.setItem('perfilTutorialCompleted', 'true');
}

function nextPerfilStep() {
    if (perfilTutorialStep < perfilTotalSteps) {
        perfilTutorialStep++;
        updatePerfilTutorialStep();
    }
}

function prevPerfilStep() {
    if (perfilTutorialStep > 1) {
        perfilTutorialStep--;
        updatePerfilTutorialStep();
    }
}

function updatePerfilTutorialStep() {
    document.querySelectorAll('.perfil-tutorial-step').forEach(step => {
        step.classList.remove('active');
    });
    
    const currentStepEl = document.getElementById(`perfilStep${perfilTutorialStep}`);
    if (currentStepEl) {
        currentStepEl.classList.add('active');
    }
    
    const progressFill = document.querySelector('.perfil-progress-fill');
    const progressText = document.querySelector('.perfil-progress-text');
    
    if (progressFill) {
        const progressPercentage = (perfilTutorialStep / perfilTotalSteps) * 100;
        progressFill.style.width = progressPercentage + '%';
    }
    
    if (progressText) {
        progressText.textContent = `${perfilTutorialStep} de ${perfilTotalSteps}`;
    }
    
    const prevBtn = document.getElementById('perfilPrevBtn');
    const nextBtn = document.getElementById('perfilNextBtn');
    const finishBtn = document.getElementById('perfilFinishBtn');
    
    if (prevBtn) prevBtn.disabled = perfilTutorialStep === 1;
    
    if (perfilTutorialStep === perfilTotalSteps) {
        if (nextBtn) nextBtn.style.display = 'none';
        if (finishBtn) finishBtn.style.display = 'inline-flex';
    } else {
        if (nextBtn) nextBtn.style.display = 'inline-flex';
        if (finishBtn) finishBtn.style.display = 'none';
    }
}

// ============================================
// TUTORIAL ESPECIALISTAS (1 ETAPA)
// ============================================
function openEspecialistasTutorial() {
    const especialistasTutorialCompleted = localStorage.getItem('especialistasTutorialCompleted');
    const overlay = document.getElementById('especialistasTutorialOverlay');
    
    if (!especialistasTutorialCompleted && overlay) {
        overlay.classList.add('active');
    }
}

function closeEspecialistasTutorial() {
    localStorage.setItem('especialistasTutorialCompleted', 'true');
    const overlay = document.getElementById('especialistasTutorialOverlay');
    if (overlay) {
        overlay.classList.remove('active');
    }
}

function postponeEspecialistasTutorial() {
    const overlay = document.getElementById('especialistasTutorialOverlay');
    if (overlay) {
        overlay.classList.remove('active');
    }
}

// ============================================
// FUNÇÕES DO PERFIL SENSORIAL
// ============================================
let itemIdCounter = 100;

function addItem(category) {
    const categoryNames = {
        'interesses': 'Interesses Especiais',
        'alimentos': 'Alimentos Preferidos',
        'sensibilidades': 'Sensibilidades',
        'estrategias': 'Estratégias de Regulação'
    };
    
    const newText = prompt('Digite o novo item para ' + categoryNames[category] + ':');
    if (!newText || newText.trim() === '') return;
    
    itemIdCounter++;
    const container = document.getElementById(category + '-container');
    
    if (!container) {
        console.error('Container não encontrado:', category + '-container');
        return;
    }
    
    if (category === 'interesses' || category === 'sensibilidades') {
        const tagColor = category === 'interesses' ? 'tag-blue' : 'tag-orange';
        const newTag = document.createElement('span');
        newTag.className = 'tag ' + tagColor;
        newTag.dataset.id = itemIdCounter;
        newTag.textContent = newText;
        newTag.style.animation = 'fadeIn 0.3s ease';
        
        newTag.addEventListener('click', function() {
            if (confirm('Deseja remover este item?')) {
                newTag.style.animation = 'fadeOut 0.3s ease';
                setTimeout(function() { newTag.remove(); }, 300);
            }
        });
        
        container.appendChild(newTag);
    } else {
        const newItem = document.createElement('div');
        newItem.className = 'checklist-item';
        newItem.dataset.id = itemIdCounter;
        newItem.style.animation = 'slideIn 0.3s ease';
        newItem.innerHTML = 
            '<i class="fas fa-check check-icon"></i>' +
            '<span>' + newText + '</span>' +
            '<div class="item-actions-inline">' +
                '<button class="btn-icon-inline edit" onclick="editItemInline(\'' + category + '\', ' + itemIdCounter + ')">' +
                    '<i class="fas fa-edit"></i>' +
                '</button>' +
                '<button class="btn-icon-inline delete" onclick="deleteItemInline(\'' + category + '\', ' + itemIdCounter + ')">' +
                    '<i class="fas fa-trash-alt"></i>' +
                '</button>' +
            '</div>';
        container.appendChild(newItem);
    }
}

function editItemInline(category, id) {
    const item = document.querySelector('#' + category + '-container .checklist-item[data-id="' + id + '"]');
    if (!item) return;
    
    const textElement = item.querySelector('span');
    const newText = prompt('Editar item:', textElement.textContent);
    if (newText && newText.trim() !== '') {
        textElement.textContent = newText;
        item.style.animation = 'pulse 0.3s ease';
        setTimeout(function() {
            item.style.animation = '';
        }, 300);
    }
}

function deleteItemInline(category, id) {
    if (confirm('Tem certeza que deseja excluir este item?')) {
        const item = document.querySelector('#' + category + '-container .checklist-item[data-id="' + id + '"]');
        if (item) {
            item.style.animation = 'fadeOut 0.3s ease';
            setTimeout(function() {
                item.remove();
            }, 300);
        }
    }
}

function editDevelopment(category) {
    const categoryNames = {
        'comunicacao': 'Comunicação',
        'social': 'Social',
        'autocuidado': 'Autocuidado',
        'motor': 'Motor'
    };
    
    const newText = prompt(`Editar marco de ${categoryNames[category]}:`, '');
    if (newText && newText.trim() !== '') {
        alert('Marco atualizado com sucesso!');
    }
}

function shareProfile() {
    alert('Função de compartilhamento em desenvolvimento!\n\nEm breve você poderá compartilhar o perfil via:\n• E-mail\n• WhatsApp\n• PDF\n• Link direto');
}

// ============================================
// NAVEGAÇÃO ENTRE SEÇÕES
// ============================================
const navItems = document.querySelectorAll('.nav-item');
const sections = document.querySelectorAll('.section');

navItems.forEach(item => {
    item.addEventListener('click', (e) => {
        e.preventDefault();
        
        navItems.forEach(nav => nav.classList.remove('active'));
        item.classList.add('active');
        
        sections.forEach(section => section.classList.remove('active'));
        
        const targetSection = item.getAttribute('data-section');
        const sectionElement = document.getElementById(targetSection);
        
        if (sectionElement) {
            sectionElement.classList.add('active');
        }
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Carregar dados do perfil ao abrir seção
        if (targetSection === 'perfil') {
            setTimeout(carregarDadosPerfil, 100);
        }
        
        // Abrir tutoriais específicos
        if (targetSection === 'perfil-autista1') {
            setTimeout(openPerfil1Tutorial, 300);
        }
        
        if (targetSection === 'perfil-autista') {
            setTimeout(openPerfilTutorial, 300);
        }
        
        if (targetSection === 'especialistas') {
            setTimeout(openEspecialistasTutorial, 300);
        }
    });
});

// ============================================
// INICIALIZAÇÃO
// ============================================
document.addEventListener('DOMContentLoaded', function() {
    // Verificar sessão
    verificarSessao();
    
    // Verificar se deve mostrar tutorial principal
    const tutorialCompleted = localStorage.getItem('tutorialCompleted');
    const tutorialOverlay = document.getElementById('tutorial-overlay');
    
    if (!tutorialCompleted && tutorialOverlay) {
        tutorialOverlay.classList.add('active');
    } else if (tutorialOverlay) {
        tutorialOverlay.classList.remove('active');
    }
});
</script>

</body>
</html>